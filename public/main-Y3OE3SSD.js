var fx=Object.defineProperty,px=Object.defineProperties;var gx=Object.getOwnPropertyDescriptors;var yw=Object.getOwnPropertySymbols,mx=Object.getPrototypeOf,yx=Object.prototype.hasOwnProperty,vx=Object.prototype.propertyIsEnumerable,_x=Reflect.get;var vw=(t,e,n)=>e in t?fx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})yx.call(e,n)&&vw(t,n,e[n]);if(yw)for(var n of yw(e))vx.call(e,n)&&vw(t,n,e[n]);return t},ue=(t,e)=>px(t,gx(e));var lr=(t,e,n)=>_x(mx(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function _w(t,e){return Object.is(t,e)}var $e=null,iu=!1,su=1,xn=Symbol("SIGNAL");function pe(t){let e=$e;return $e=t,e}function Iw(){return $e}var ia={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gf(t){if(iu)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(uu($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&ra($e)){let n=$e.producerNode[e];cu(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=ra($e)?Cw(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function Ix(){su++}function ww(t){if(!(ra(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===su)){if(!t.producerMustRecompute(t)&&!yf(t)){t.dirty=!1,t.lastCleanEpoch=su;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=su}}function Ew(t){if(t.liveConsumerNode===void 0)return;let e=iu;iu=!0;try{for(let n of t.liveConsumerNode)n.dirty||wx(n)}finally{iu=e}}function Dw(){return $e?.consumerAllowSignalWrites!==!1}function wx(t){t.dirty=!0,Ew(t),t.consumerMarkedDirty?.(t)}function au(t){return t&&(t.nextProducerIndex=0),pe(t)}function mf(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ra(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yf(t){uu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ww(n),r!==n.version))return!0}return!1}function vf(t){if(uu(t),ra(t))for(let e=0;e<t.producerNode.length;e++)cu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cw(t,e,n){if(bw(t),t.liveConsumerNode.length===0&&Tw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Cw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function cu(t,e){if(bw(t),t.liveConsumerNode.length===1&&Tw(t))for(let r=0;r<t.producerNode.length;r++)cu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];uu(i),i.producerIndexOfThis[r]=e}}function ra(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Tw(t){return t.producerNode!==void 0}function Sw(t){let e=Object.create(Ex);e.computation=t;let n=()=>{if(ww(e),gf(e),e.value===ou)throw e.error;return e.value};return n[xn]=e,n}var ff=Symbol("UNSET"),pf=Symbol("COMPUTING"),ou=Symbol("ERRORED"),Ex=ue(k({},ia),{value:ff,dirty:!0,error:null,equal:_w,producerMustRecompute(t){return t.value===ff||t.value===pf},producerRecomputeValue(t){if(t.value===pf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=pf;let n=au(t),r;try{r=t.computation()}catch(i){r=ou,t.error=i}finally{mf(t,n)}if(e!==ff&&e!==ou&&r!==ou&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Dx(){throw new Error}var Aw=Dx;function Mw(){Aw()}function xw(t){Aw=t}var Cx=null;function Rw(t){let e=Object.create(Pw);e.value=t;let n=()=>(gf(e),e.value);return n[xn]=e,n}function _f(t,e){Dw()||Mw(),t.equal(t.value,e)||(t.value=e,bx(t))}function Nw(t,e){Dw()||Mw(),_f(t,e(t.value))}var Pw=ue(k({},ia),{equal:_w,value:void 0});function bx(t){t.version++,Ix(),Ew(t),Cx?.()}function te(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var lu=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function si(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof lu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ow(s)}catch(o){e=e??[],o instanceof lu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ow(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&si(n,e)}remove(e){let{_finalizers:n}=this;n&&si(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var If=Oe.EMPTY;function du(t){return t instanceof Oe||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Ow(t){te(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){cs.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function sa(){}var kw=wf("C",void 0,void 0);function Fw(t){return wf("E",void 0,t)}function Lw(t){return wf("N",t,void 0)}function wf(t,e,n){return{kind:t,value:e,error:n}}var oi=null;function us(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!oi;if(e&&(oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=oi;if(oi=null,n)throw r}}else t()}function Vw(t){Qt.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}var ai=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=Ax}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?Df(Lw(e),this):this._next(e)}error(e){this.isStopped?Df(Fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Df(kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tx=Function.prototype.bind;function Ef(t,e){return Tx.call(t,e)}var Cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},ls=class extends ai{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ef(e.next,s),error:e.error&&Ef(e.error,s),complete:e.complete&&Ef(e.complete,s)}):i=e}this.destination=new Cf(i)}};function fu(t){Qt.useDeprecatedSynchronousErrorHandling?Vw(t):hu(t)}function Sx(t){throw t}function Df(t,e){let{onStoppedNotification:n}=Qt;n&&cs.setTimeout(()=>n(t,e))}var Ax={closed:!0,next:sa,error:Sx,complete:sa};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tt(t){return t}function pu(...t){return bf(t)}function bf(t){return t.length===0?Tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=xx(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Uw(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return bf(n)(this)}toPromise(n){return n=Uw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Uw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function Mx(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function xx(t){return t&&t instanceof ai||Mx(t)&&du(t)}function Tf(t){return te(t?.lift)}function ge(t){return e=>{if(Tf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Sf(t,e,n,r,i)}var Sf=class extends ai{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return ge((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return hs()(this)}};var jw=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jw}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?If:(this.currentObservers=null,s.push(n),new Oe(()=>{this.currentObservers=null,si(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new gu(e,n),t})(),gu=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:If}};var Je=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Af={now(){return(Af.delegate||Date).now()},delegate:void 0};var mu=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var oa={setInterval(t,e,...n){let{delegate:r}=oa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=oa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends mu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&oa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gs.now=Af.now;var ms=class extends gs{constructor(e,n=gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mf=new ms(ps);var yu=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vu=class extends ms{};var xf=new vu(yu);var St=new le(t=>t.complete());function Bw(t){return t&&te(t.schedule)}function $w(t){return t[t.length-1]}function _u(t){return te($w(t))?t.pop():void 0}function dr(t){return Bw($w(t))?t.pop():void 0}function Rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Hw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function qw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(R){return new Promise(function(M,F){s.push([v,R,M,F])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(R){m(s[0][3],R)}}function l(v){v.value instanceof ci?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Gw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hw=="function"?Hw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Iu=t=>t&&typeof t.length=="number"&&typeof t!="function";function wu(t){return te(t?.then)}function Eu(t){return te(t[ds])}function Du(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bu=Rx();function Tu(t){return te(t?.[bu])}function Su(t){return qw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function Au(t){return te(t?.getReader)}function Le(t){if(t instanceof le)return t;if(t!=null){if(Eu(t))return Nx(t);if(Iu(t))return Px(t);if(wu(t))return Ox(t);if(Du(t))return Ww(t);if(Tu(t))return kx(t);if(Au(t))return Fx(t)}throw Cu(t)}function Nx(t){return new le(e=>{let n=t[ds]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Px(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ox(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function kx(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ww(t){return new le(e=>{Lx(t,e).catch(n=>e.error(n))})}function Fx(t){return Ww(Su(t))}function Lx(t,e){var n,r,i,s;return zw(this,void 0,void 0,function*(){try{for(n=Gw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function hr(t,e=0){return ge((n,r)=>{n.subscribe(de(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function fr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Kw(t,e){return Le(t).pipe(fr(e),hr(e))}function Qw(t,e){return Le(t).pipe(fr(e),hr(e))}function Yw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Zw(t,e){return new le(n=>{let r;return wt(n,e,()=>{r=t[bu](),wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Mu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Jw(t,e){return Mu(Su(t),e)}function Xw(t,e){if(t!=null){if(Eu(t))return Kw(t,e);if(Iu(t))return Yw(t,e);if(wu(t))return Qw(t,e);if(Du(t))return Mu(t,e);if(Tu(t))return Zw(t,e);if(Au(t))return Jw(t,e)}throw Cu(t)}function Me(t,e){return e?Xw(t,e):Le(t)}function W(...t){let e=dr(t);return Me(t,e)}function ys(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Nf(t){return!!t&&(t instanceof le||te(t.lift)&&te(t.subscribe))}var Rn=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Vx}=Array;function Ux(t,e){return Vx(e)?t(...e):t(e)}function xu(t){return se(e=>Ux(t,e))}var{isArray:jx}=Array,{getPrototypeOf:Bx,prototype:$x,keys:Hx}=Object;function Ru(t){if(t.length===1){let e=t[0];if(jx(e))return{args:e,keys:null};if(zx(e)){let n=Hx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function zx(t){return t&&typeof t=="object"&&Bx(t)===$x}function Nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function aa(...t){let e=dr(t),n=_u(t),{args:r,keys:i}=Ru(t);if(r.length===0)return Me([],e);let s=new le(qx(r,e,i?o=>Nu(i,o):Tt));return n?s.pipe(xu(n)):s}function qx(t,e,n=Tt){return r=>{eE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)eE(e,()=>{let l=Me(t[u],e),h=!1;l.subscribe(de(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function eE(t,e,n){t?wt(n,t,e):e()}function tE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?S(R):u.push(R),S=R=>{s&&e.next(R),l++;let M=!1;Le(n(R,h++)).subscribe(de(e,F=>{i?.(F),s?v(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();o?wt(e,o,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return te(e)?Ve((r,i)=>se((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>tE(r,i,t,n)))}function pr(t=1/0){return Ve(Tt,t)}function nE(){return pr(1)}function vs(...t){return nE()(Me(t,dr(t)))}function Pu(t){return new le(e=>{Le(t()).subscribe(e)})}function Pf(...t){let e=_u(t),{args:n,keys:r}=Ru(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(de(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Nu(r,a):a),s.complete())}))}});return e?i.pipe(xu(e)):i}function At(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,s=>t.call(e,s,i++)&&r.next(s)))})}function gr(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(de(n,void 0,void 0,o=>{s=Le(t(o,gr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function rE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(de(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ui(t,e){return te(e)?Ve(t,e,1):Ve(t,1)}function mr(t){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>St:ge((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Of(t){return se(()=>t)}function Ou(t=Gx){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Gx(){return new Rn}function ca(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):Tt,Nn(1),n?mr(e):Ou(()=>new Rn))}function _s(t){return t<=0?()=>St:ge((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):Tt,_s(1),n?mr(e):Ou(()=>new Rn))}function ku(t,e){return ge(rE(t,e,arguments.length>=2,!0))}function Fu(...t){let e=dr(t);return ge((n,r)=>{(e?vs(t,n,e):vs(t,n)).subscribe(r)})}function jt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ff(t){return ge((e,n)=>{Le(t).subscribe(de(n,()=>n.complete(),sa)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Tt}var $E="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(Kp(e,n)),this.code=e}};function Kp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ya(t){return{toString:t}.toString()}var Lu="__parameters__";function Wx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HE(t,e,n){return ya(()=>{let r=Wx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Lu)?u[Lu]:Object.defineProperty(u,Lu,{value:[]})[Lu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Yf=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Kx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function iE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Qx=Ce({__forward_ref__:Ce});function va(t){return t.__forward_ref__=va,t.toString=function(){return vt(this())},t}function yt(t){return zE(t)?t():t}function zE(t){return typeof t=="function"&&t.hasOwnProperty(Qx)&&t.__forward_ref__===va}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function br(t){return{providers:t.providers||[],imports:t.imports||[]}}function vl(t){return sE(t,GE)||sE(t,WE)}function qE(t){return vl(t)!==null}function sE(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yx(t){let e=t&&(t[GE]||t[WE]);return e||null}function oE(t){return t&&(t.hasOwnProperty(aE)||t.hasOwnProperty(Zx))?t[aE]:null}var GE=Ce({\u0275prov:Ce}),aE=Ce({\u0275inj:Ce}),WE=Ce({ngInjectableDef:Ce}),Zx=Ce({ngInjectorDef:Ce}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KE(t){return t&&!!t.\u0275providers}var Jx=Ce({\u0275cmp:Ce}),Xx=Ce({\u0275dir:Ce}),eR=Ce({\u0275pipe:Ce}),tR=Ce({\u0275mod:Ce}),Ku=Ce({\u0275fac:Ce}),la=Ce({__NG_ELEMENT_ID__:Ce}),cE=Ce({__NG_ENV_ID__:Ce});function _l(t){return typeof t=="string"?t:t==null?"":String(t)}function nR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_l(t)}function rR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Qp(t,e){throw new H(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Zf;function QE(){return Zf}function Bt(t){let e=Zf;return Zf=t,e}function YE(t,e,n){let r=vl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Qp(t,"Injector")}var iR={},da=iR,Jf="__NG_DI_FLAG__",Qu="ngTempTokenPath",sR="ngTokenPath",oR=/\n/gm,aR="\u0275",uE="__source",Cs;function cR(){return Cs}function yr(t){let e=Cs;return Cs=t,e}function uR(t,e=oe.Default){if(Cs===void 0)throw new H(-203,!1);return Cs===null?YE(t,void 0,e):Cs.get(t,e&oe.Optional?null:void 0,e)}function Z(t,e=oe.Default){return(QE()||uR)(yt(t),e)}function P(t,e=oe.Default){return Z(t,Il(e))}function Il(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xf(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=lR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Z(i,s))}else e.push(Z(r))}return e}function ZE(t,e){return t[Jf]=e,t.prototype[Jf]=e,t}function lR(t){return t[Jf]}function dR(t,e,n,r){let i=t[Qu];throw e[uE]&&i.unshift(e[uE]),t.message=hR(`
`+t.message,i,n,r),t[sR]=i,t[Qu]=null,t}function hR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aR?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(oR,`
  `)}`}var ot=ZE(HE("Optional"),8);var Yp=ZE(HE("SkipSelf"),4);function Ts(t,e){let n=t.hasOwnProperty(Ku);return n?t[Ku]:null}function fR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function pR(t){return t.flat(Number.POSITIVE_INFINITY)}function Zp(t,e){t.forEach(n=>Array.isArray(n)?Zp(n,e):e(n))}function JE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function mR(t,e,n){let r=_a(t,e);return r>=0?t[r|1]=n:(r=~r,gR(t,r,e,n)),r}function Lf(t,e){let n=_a(t,e);if(n>=0)return t[n|1]}function _a(t,e){return yR(t,e,1)}function yR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ss={},$t=[],As=new j(""),XE=new j("",-1),eD=new j(""),Zu=class{get(e,n=da){if(n===da){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},tD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tD||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),Ir=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ir||{});function vR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ep(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];_R(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function nD(t){return t===3||t===4||t===6}function _R(t){return t.charCodeAt(0)===64}function ha(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lE(t,n,i,null,e[++r]):lE(t,n,i,null,null))}}return t}function lE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var rD="ng-template";function IR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Jp(t){return t.type===4&&t.value!==rD}function wR(t,e,n){let r=t.type===4&&!n?rD:t.value;return e===r}function ER(t,e,n){let r=4,i=t.attrs,s=i!==null?bR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!wR(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!IR(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=DR(u,i,Jp(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function DR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return TR(e,t)}function CR(t,e,n=!1){for(let r=0;r<e.length;r++)if(ER(t,e[r],n))return!0;return!1}function bR(t){for(let e=0;e<t.length;e++){let n=t[e];if(nD(n))return e}return t.length}function TR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dE(t,e){return t?":not("+e.trim()+")":e}function SR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=dE(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=dE(s,i)),e}function AR(t){return t.map(SR).join(",")}function MR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function at(t){return ya(()=>{let e=cD(t),n=ue(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});uD(n);let r=t.dependencies;return n.directiveDefs=fE(r,!1),n.pipeDefs=fE(r,!0),n.id=NR(n),n})}function xR(t){return wr(t)||iD(t)}function RR(t){return t!==null}function Tr(t){return ya(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hE(t,e){if(t==null)return Ss;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ir.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ir.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Dt(t){return ya(()=>{let e=cD(t);return uD(e),e})}function wr(t){return t[Jx]||null}function iD(t){return t[Xx]||null}function sD(t){return t[eR]||null}function oD(t){let e=wr(t)||iD(t)||sD(t);return e!==null?e.standalone:!1}function aD(t,e){let n=t[tR]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function cD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ss,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hE(t.inputs,e),outputs:hE(t.outputs),debugInfo:null}}function uD(t){t.features?.forEach(e=>e(t))}function fE(t,e){if(!t)return null;let n=e?sD:xR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RR)}function NR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function pn(t){return{\u0275providers:t}}function PR(...t){return{\u0275providers:lD(!0,t),\u0275fromNgModule:!0}}function lD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Zp(e,o=>{let a=o;tp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&dD(i,s),n}function dD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Xp(i,s=>{e(s,r)})}}function tp(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,s=oE(t),o=!s&&wr(t);if(!s&&!o){let u=t.ngModule;if(s=oE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)tp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Zp(s.imports,h=>{tp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&dD(l,e)}if(!a){let l=Ts(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:eD,useValue:i,multi:!0},i),e({provide:As,useValue:()=>Z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Xp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Xp(t,e){for(let n of t)KE(n)&&(n=n.\u0275providers),Array.isArray(n)?Xp(n,e):e(n)}var OR=Ce({provide:String,useValue:Ce});function hD(t){return t!==null&&typeof t=="object"&&OR in t}function kR(t){return!!(t&&t.useExisting)}function FR(t){return!!(t&&t.useFactory)}function Ms(t){return typeof t=="function"}function LR(t){return!!t.useClass}var wl=new j(""),$u={},VR={},Vf;function eg(){return Vf===void 0&&(Vf=new Zu),Vf}var Mt=class{},fa=class extends Mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rp(e,o=>this.processProvider(o)),this.records.set(XE,Is(void 0,this)),i.has("environment")&&this.records.set(Mt,Is(void 0,this));let s=this.records.get(wl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eD,$t,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=Bt(void 0),i;try{return e()}finally{yr(n),Bt(r)}}get(e,n=da,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cE))return e[cE](this);r=Il(r);let i,s=yr(this),o=Bt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=HR(e)&&vl(e);l&&this.injectableDefInScope(l)?u=Is(np(e),$u):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?eg():this.parent;return n=r&oe.Optional&&n===da?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qu]=a[Qu]||[]).unshift(vt(e)),s)throw a;return dR(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(o),yr(s)}}resolveInjectorInitializers(){let e=pe(null),n=yr(this),r=Bt(void 0),i;try{let s=this.get(As,$t,oe.Self);for(let o of s)o()}finally{yr(n),Bt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=yt(e);let n=Ms(e)?e:yt(e&&e.provide),r=jR(e);if(!Ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Is(void 0,$u,!0),i.factory=()=>Xf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===$u&&(n.value=VR,n.value=n.factory()),typeof n.value=="object"&&n.value&&$R(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function np(t){let e=vl(t),n=e!==null?e.factory:Ts(t);if(n!==null)return n;if(t instanceof j)throw new H(204,!1);if(t instanceof Function)return UR(t);throw new H(204,!1)}function UR(t){if(t.length>0)throw new H(204,!1);let n=Yx(t);return n!==null?()=>n.factory(t):()=>new t}function jR(t){if(hD(t))return Is(void 0,t.useValue);{let e=fD(t);return Is(e,$u)}}function fD(t,e,n){let r;if(Ms(t)){let i=yt(t);return Ts(i)||np(i)}else if(hD(t))r=()=>yt(t.useValue);else if(FR(t))r=()=>t.useFactory(...Xf(t.deps||[]));else if(kR(t))r=()=>Z(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(BR(t))r=()=>new i(...Xf(t.deps));else return Ts(i)||np(i)}return r}function Is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function BR(t){return!!t.deps}function $R(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HR(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function rp(t,e){for(let n of t)Array.isArray(n)?rp(n,e):n&&KE(n)?rp(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof fa&&t.assertNotDestroyed();let n,r=yr(t),i=Bt(void 0);try{return e()}finally{yr(r),Bt(i)}}function pD(){return QE()!==void 0||cR()!=null}function zR(t){if(!pD())throw new H(-203,!1)}function qR(t){return typeof t=="function"}var Ln=0,ne=1,Y=2,st=3,Zt=4,Jt=5,Ju=6,Xu=7,zt=8,xs=9,ln=10,ze=11,pa=12,pE=13,Ls=14,dn=15,fi=16,ws=17,Pn=18,El=19,gD=20,vr=21,Uf=22,Ht=23,hn=25,mD=1;var pi=7,el=8,Rs=9,Et=10,tl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tl||{});function _r(t){return Array.isArray(t)&&typeof t[mD]=="object"}function Vn(t){return Array.isArray(t)&&t[mD]===!0}function yD(t){return(t.flags&4)!==0}function Dl(t){return t.componentOffset>-1}function tg(t){return(t.flags&1)===1}function Er(t){return!!t.template}function ip(t){return(t[Y]&512)!==0}var sp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function vD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Sr(){return _D}function _D(t){return t.type.prototype.ngOnChanges&&(t.setInput=WR),GR}Sr.ngInherit=!0;function GR(){let t=wD(this),e=t?.current;if(e){let n=t.previous;if(n===Ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WR(t,e,n,r,i){let s=this.declaredInputs[r],o=wD(t)||KR(t,{previous:Ss,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new sp(l&&l.currentValue,n,u===Ss),vD(t,e,i,n)}var ID="__ngSimpleChanges__";function wD(t){return t[ID]||null}function KR(t,e){return t[ID]=e}var gE=null;var an=function(t,e,n){gE?.(t,e,n)},QR="svg",YR="math";function fn(t){for(;Array.isArray(t);)t=t[Ln];return t}function ED(t,e){return fn(e[t])}function qt(t,e){return fn(e[t.index])}function ng(t,e){return t.data[e]}function Ar(t,e){let n=e[t];return _r(n)?n:n[Ln]}function ZR(t){return(t[Y]&4)===4}function rg(t){return(t[Y]&128)===128}function JR(t){return Vn(t[st])}function nl(t,e){return e==null?null:t[e]}function DD(t){t[ws]=0}function CD(t){t[Y]&1024||(t[Y]|=1024,rg(t)&&bl(t))}function XR(t,e){for(;t>0;)e=e[Ls],t--;return e}function Cl(t){return!!(t[Y]&9216||t[Ht]?.dirty)}function op(t){t[ln].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),Cl(t)&&bl(t)}function bl(t){t[ln].changeDetectionScheduler?.notify(0);let e=gi(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!rg(e)));)e=gi(e)}function bD(t,e){if((t[Y]&256)===256)throw new H(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function eN(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function gi(t){let e=t[st];return Vn(e)?e[st]:e}var ae={lFrame:OD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var TD=!1;function tN(){return ae.lFrame.elementDepthCount}function nN(){ae.lFrame.elementDepthCount++}function rN(){ae.lFrame.elementDepthCount--}function SD(){return ae.bindingsEnabled}function iN(){return ae.skipHydrationRootTNode!==null}function sN(t){return ae.skipHydrationRootTNode===t}function oN(){ae.skipHydrationRootTNode=null}function we(){return ae.lFrame.lView}function _t(){return ae.lFrame.tView}function xt(t){return ae.lFrame.contextLView=t,t[zt]}function Rt(t){return ae.lFrame.contextLView=null,t}function ct(){let t=AD();for(;t!==null&&t.type===64;)t=t.parent;return t}function AD(){return ae.lFrame.currentTNode}function aN(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ia(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function MD(){return ae.lFrame.isParent}function cN(){ae.lFrame.isParent=!1}function xD(){return TD}function mE(t){TD=t}function uN(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function lN(t){return ae.lFrame.bindingIndex=t}function wa(){return ae.lFrame.bindingIndex++}function dN(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hN(){return ae.lFrame.inI18n}function fN(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,ap(e)}function pN(){return ae.lFrame.currentDirectiveIndex}function ap(t){ae.lFrame.currentDirectiveIndex=t}function gN(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RD(){return ae.lFrame.currentQueryIndex}function ig(t){ae.lFrame.currentQueryIndex=t}function mN(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function ND(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=mN(s),i===null||(s=s[Ls],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=PD();return r.currentTNode=e,r.lView=t,!0}function sg(t){let e=PD(),n=t[ne];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function PD(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?OD(t):e}function OD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function kD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var FD=kD;function og(){let t=kD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yN(t){return(ae.lFrame.contextLView=XR(t,ae.lFrame.contextLView))[zt]}function Vs(){return ae.lFrame.selectedIndex}function mi(t){ae.lFrame.selectedIndex=t}function ag(){let t=ae.lFrame;return ng(t.tView,t.selectedIndex)}function vN(){return ae.lFrame.currentNamespace}var LD=!0;function cg(){return LD}function ug(t){LD=t}function _N(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=_D(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function lg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Hu(t,e,n){VD(t,e,3,n)}function zu(t,e,n,r){(t[Y]&3)===n&&VD(t,e,n,r)}function jf(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function VD(t,e,n,r){let i=r!==void 0?t[ws]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ws]+=65536),(a<s||s==-1)&&(IN(t,n,e,u),t[ws]=(t[ws]&4294901760)+u+2),u++}function yE(t,e){an(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),an(5,t,e)}}function IN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Y]>>14<t[ws]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,yE(a,s)):yE(a,s)}var bs=-1,yi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wN(t){return t instanceof yi}function EN(t){return(t.flags&8)!==0}function DN(t){return(t.flags&16)!==0}var Bf={},cp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Il(r);let i=this.injector.get(e,Bf,r);return i!==Bf||n===Bf?i:this.parentInjector.get(e,n,r)}};function UD(t){return t!==bs}function rl(t){return t&32767}function CN(t){return t>>16}function il(t,e){let n=CN(t),r=e;for(;n>0;)r=r[Ls],n--;return r}var up=!0;function vE(t){let e=up;return up=t,e}var bN=256,jD=bN-1,BD=5,TN=0,cn={};function SN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(la)&&(r=n[la]),r==null&&(r=n[la]=TN++);let i=r&jD,s=1<<i;e.data[t+(i>>BD)]|=s}function sl(t,e){let n=$D(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,$f(r.data,t),$f(e,null),$f(r.blueprint,null));let i=dg(t,e),s=t.injectorIndex;if(UD(i)){let o=rl(i),a=il(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function $f(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $D(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=WD(i),r===null)return bs;if(n++,i=i[Ls],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bs}function lp(t,e,n){SN(t,e,n)}function AN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(nD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function HD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Qp(e,"NodeInjector")}function zD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[xs],s=Bt(void 0);try{return i?i.get(e,r,n&oe.Optional):YE(e,r,n&oe.Optional)}finally{Bt(s)}}return HD(r,e,n)}function qD(t,e,n,r=oe.Default,i){if(t!==null){if(e[Y]&2048&&!(r&oe.Self)){let o=NN(t,e,n,r,cn);if(o!==cn)return o}let s=GD(t,e,n,r,cn);if(s!==cn)return s}return zD(e,n,r,i)}function GD(t,e,n,r,i){let s=xN(n);if(typeof s=="function"){if(!ND(e,t,r))return r&oe.Host?HD(i,n,r):zD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Qp(n);else return o}finally{FD()}}else if(typeof s=="number"){let o=null,a=$D(t,e),u=bs,l=r&oe.Host?e[dn][Jt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?dg(t,e):e[a+8],u===bs||!IE(r,!1)?a=-1:(o=e[ne],a=rl(u),e=il(u,e)));a!==-1;){let h=e[ne];if(_E(s,a,h.data)){let p=MN(a,e,n,o,r,l);if(p!==cn)return p}u=e[a+8],u!==bs&&IE(r,e[ne].data[a+8]===l)&&_E(s,a,e)?(o=h,a=rl(u),e=il(u,e)):a=-1}}return i}function MN(t,e,n,r,i,s){let o=e[ne],a=o.data[t+8],u=r==null?Dl(a)&&up:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=qu(a,o,n,u,l);return h!==null?vi(e,o,h,a):cn}function qu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&Er(v)&&v.type===n)return u}return null}function vi(t,e,n,r){let i=t[n],s=e.data;if(wN(i)){let o=i;o.resolving&&rR(nR(s[n]));let a=vE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Bt(o.injectImpl):null,h=ND(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&_N(n,s[n],e)}finally{l!==null&&Bt(l),vE(a),o.resolving=!1,FD()}}return i}function xN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(la)?t[la]:void 0;return typeof e=="number"?e>=0?e&jD:RN:e}function _E(t,e,n){let r=1<<t;return!!(n[e+(t>>BD)]&r)}function IE(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var hi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qD(this._tNode,this._lView,e,Il(r),n)}};function RN(){return new hi(ct(),we())}function Ea(t){return ya(()=>{let e=t.prototype.constructor,n=e[Ku]||dp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ku]||dp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function dp(t){return zE(t)?()=>{let e=dp(yt(t));return e&&e()}:Ts(t)}function NN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let a=GD(s,o,n,r|oe.Self,cn);if(a!==cn)return a;let u=s.parent;if(!u){let l=o[gD];if(l){let h=l.get(n,cn,r);if(h!==cn)return h}u=WD(o),o=o[Ls]}s=u}return i}function WD(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function hg(t){return AN(ct(),t)}function wE(t,e=null,n=null,r){let i=KD(t,e,n,r);return i.resolveInjectorInitializers(),i}function KD(t,e=null,n=null,r,i=new Set){let s=[n||$t,PR(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new fa(s,e||eg(),r||null,i)}var li=class li{static create(e,n){if(Array.isArray(e))return wE({name:""},n,e,"");{let r=e.name??"";return wE({name:r},e.parent,e.providers,r)}}};li.THROW_IF_NOT_FOUND=da,li.NULL=new Zu,li.\u0275prov=B({token:li,providedIn:"any",factory:()=>Z(XE)}),li.__NG_ELEMENT_ID__=-1;var Xe=li;var PN=new j("");PN.__NG_ELEMENT_ID__=t=>{let e=ct();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new H(204,!1)};var ON="ngOriginalError";function Hf(t){return t[ON]}var QD=!0,fg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),hp=class extends fg{constructor(e){super(),this._lView=e}onDestroy(e){return bD(this._lView,e),()=>eN(this._lView,e)}};function kN(){return new hp(we())}var Us=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var fp=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,pD()&&(this.destroyRef=P(fg,{optional:!0})??void 0,this.pendingTasks=P(Us,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=fp;function ol(...t){}function YD(t){let e,n;function r(){t=ol;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function EE(t){return queueMicrotask(()=>t()),()=>{t=ol}}var pg="isAngularZone",al=pg+"_ID",FN=0,Ie=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=QD}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,UN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,LN,ol,ol);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},LN={};function gg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function VN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){YD(()=>{t.callbackScheduled=!1,pp(t),t.isCheckStableRunning=!0,gg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),pp(t)}function UN(t){let e=()=>{VN(t)},n=FN++;t._inner=t._inner.fork({name:"angular",properties:{[pg]:!0,[al]:n,[al+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(jN(u))return r.invokeTask(s,o,a,u);try{return DE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return DE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!BN(u)&&e(),CE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,pp(t),gg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function pp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function DE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CE(t){t._nesting--,gg(t)}var gp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function jN(t){return ZD(t,"__ignore_ng_zone__")}function BN(t){return ZD(t,"__scheduler_tick__")}function ZD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hf(e);for(;n&&Hf(n);)n=Hf(n);return n||null}},$N=new j("",{providedIn:"root",factory:()=>{let t=P(Ie),e=P(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function HN(){return js(ct(),we())}function js(t,e){return new Nt(qt(t,e))}var Nt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HN;let t=e;return t})();function zN(t){return t instanceof Nt?t.nativeElement:t}function qN(){return this._results[Symbol.iterator]()}var mp=class t{get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=qN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=pR(e);(this._changesDetected=!fR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function JD(t){return(t.flags&128)===128}var XD=new Map,GN=0;function WN(){return GN++}function KN(t){XD.set(t[El],t)}function yp(t){XD.delete(t[El])}var bE="__ngContext__";function _i(t,e){_r(e)?(t[bE]=e[El],KN(e)):t[bE]=e}function eC(t){return nC(t[pa])}function tC(t){return nC(t[Zt])}function nC(t){for(;t!==null&&!Vn(t);)t=t[Zt];return t}var vp;function rC(t){vp=t}function QN(){if(vp!==void 0)return vp;if(typeof document<"u")return document;throw new H(210,!1)}var mg=new j("",{providedIn:"root",factory:()=>YN}),YN="ng",yg=new j(""),mn=new j("",{providedIn:"platform",factory:()=>"unknown"});var vg=new j("",{providedIn:"root",factory:()=>QN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZN="h",JN="b";var XN=()=>null;function _g(t,e,n=!1){return XN(t,e,n)}var iC=!1,eP=new j("",{providedIn:"root",factory:()=>iC});var Vu;function tP(){if(Vu===void 0&&(Vu=null,Yf.trustedTypes))try{Vu=Yf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vu}function TE(t){return tP()?.createScriptURL(t)||t}var cl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$E})`}};function Da(t){return t instanceof cl?t.changingThisBreaksApplicationSecurity:t}function Ig(t,e){let n=nP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$E})`)}return n===e}function nP(t){return t instanceof cl&&t.getTypeName()||null}var rP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sC(t){return t=String(t),t.match(rP)?t:"unsafe:"+t}var Tl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Tl||{});function iP(t){let e=aC();return e?e.sanitize(Tl.URL,t)||"":Ig(t,"URL")?Da(t):sC(_l(t))}function sP(t){let e=aC();if(e)return TE(e.sanitize(Tl.RESOURCE_URL,t)||"");if(Ig(t,"ResourceURL"))return TE(Da(t));throw new H(904,!1)}function oP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?sP:iP}function oC(t,e,n){return oP(e,n)(t)}function aC(){let t=we();return t&&t[ln].sanitizer}function cC(t){return t instanceof Function?t():t}function aP(t){return(t??P(Xe)).get(mn)==="browser"}var kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kn||{}),cP;function wg(t,e){return cP(t,e)}function Es(t,e,n,r,i){if(r!=null){let s,o=!1;Vn(r)?s=r:_r(r)&&(o=!0,r=r[Ln]);let a=fn(r);t===0&&n!==null?i==null?hC(e,n,a):ll(e,n,a,i||null,!0):t===1&&n!==null?ll(e,n,a,i||null,!0):t===2?DP(e,a,o):t===3&&e.destroyNode(a),s!=null&&bP(e,t,s,n,i)}}function uP(t,e){return t.createText(e)}function lP(t,e,n){t.setValue(e,n)}function uC(t,e,n){return t.createElement(e,n)}function dP(t,e){lC(t,e),e[Ln]=null,e[Jt]=null}function hP(t,e,n,r,i,s){r[Ln]=i,r[Jt]=e,Sl(t,r,n,1,i,s)}function lC(t,e){e[ln].changeDetectionScheduler?.notify(9),Sl(t,e,e[ze],2,null,null)}function fP(t){let e=t[pa];if(!e)return zf(t[ne],t);for(;e;){let n=null;if(_r(e))n=e[pa];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)_r(e)&&zf(e[ne],e),e=e[st];e===null&&(e=t),_r(e)&&zf(e[ne],e),n=e&&e[Zt]}e=n}}function pP(t,e,n,r){let i=Et+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-Et?(e[Zt]=n[i],JE(n,Et+r,e)):(n.push(e),e[Zt]=null),e[st]=n;let o=e[fi];o!==null&&n!==o&&dC(o,e);let a=e[Pn];a!==null&&a.insertView(t),op(e),e[Y]|=128}function dC(t,e){let n=t[Rs],r=e[st];if(_r(r))t[Y]|=tl.HasTransplantedViews;else{let i=r[st][dn];e[dn]!==i&&(t[Y]|=tl.HasTransplantedViews)}n===null?t[Rs]=[e]:n.push(e)}function Eg(t,e){let n=t[Rs],r=n.indexOf(e);n.splice(r,1)}function ul(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[fi];i!==null&&i!==t&&Eg(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=Yu(t,Et+e);dP(r[ne],r);let o=s[Pn];o!==null&&o.detachView(s[ne]),r[st]=null,r[Zt]=null,r[Y]&=-129}return r}function Dg(t,e){if(!(e[Y]&256)){let n=e[ze];n.destroyNode&&Sl(t,e,n,3,null,null),fP(e)}}function zf(t,e){if(e[Y]&256)return;let n=pe(null);try{e[Y]&=-129,e[Y]|=256,e[Ht]&&vf(e[Ht]),mP(t,e),gP(t,e),e[ne].type===1&&e[ze].destroy();let r=e[fi];if(r!==null&&Vn(e[st])){r!==e[st]&&Eg(r,e);let i=e[Pn];i!==null&&i.detachView(t)}yp(e)}finally{pe(n)}}function gP(t,e){let n=t.cleanup,r=e[Xu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Xu]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];an(4,a,u);try{u.call(a)}finally{an(5,a,u)}}else{an(4,i,s);try{s.call(i)}finally{an(5,i,s)}}}}}function yP(t,e,n){return vP(t,e.parent,n)}function vP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return qt(r,n)}}function ll(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hC(t,e,n){t.appendChild(e,n)}function SE(t,e,n,r,i){r!==null?ll(t,e,n,r,i):hC(t,e,n)}function fC(t,e){return t.parentNode(e)}function _P(t,e){return t.nextSibling(e)}function IP(t,e,n){return EP(t,e,n)}function wP(t,e,n){return t.type&40?qt(t,n):null}var EP=wP,AE;function Cg(t,e,n,r){let i=yP(t,r,e),s=e[ze],o=r.parent||e[Jt],a=IP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)SE(s,i,n[u],a,!1);else SE(s,i,n,a,!1);AE!==void 0&&AE(s,r,e,n,i)}function ua(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return _p(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ua(t,r);{let i=t[e.index];return Vn(i)?_p(-1,i):fn(i)}}else{if(n&128)return ua(t,e.next);if(n&32)return wg(e,t)()||fn(t[e.index]);{let r=pC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gi(t[dn]);return ua(i,r)}else return ua(t,e.next)}}}return null}function pC(t,e){if(e!==null){let r=t[dn][Jt],i=e.projection;return r.projection[i]}return null}function _p(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return ua(r,i)}return e[pi]}function DP(t,e,n){t.removeChild(null,e,n)}function bg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&_i(fn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)bg(t,e,n.child,r,i,s,!1),Es(e,t,i,a,s);else if(u&32){let l=wg(n,r),h;for(;h=l();)Es(e,t,i,h,s);Es(e,t,i,a,s)}else u&16?CP(t,e,r,n,i,s):Es(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Sl(t,e,n,r,i,s){bg(n,r,t.firstChild,e,i,s,!1)}function CP(t,e,n,r,i,s){let o=n[dn],u=o[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Es(e,t,i,h,s)}else{let l=u,h=o[st];JD(r)&&(l.flags|=128),bg(t,e,l,h,i,s,!0)}}function bP(t,e,n,r,i){let s=n[pi],o=fn(n);s!==o&&Es(e,t,r,s,i);for(let a=Et;a<n.length;a++){let u=n[a];Sl(u[ne],u,t,e,r,s)}}function TP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=kn.Important),t.setStyle(n,r,i,s))}}function SP(t,e,n){t.setAttribute(e,"style",n)}function gC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ep(t,e,r),i!==null&&gC(t,e,i),s!==null&&SP(t,e,s)}var Mr={};function Te(t=1){yC(_t(),we(),Vs()+t,!1)}function yC(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Hu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&zu(e,s,0,n)}mi(n)}function J(t,e=oe.Default){let n=we();if(n===null)return Z(t,e);let r=ct();return qD(r,n,yt(t),e)}function vC(){let t="invalid";throw new Error(t)}function _C(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Ir.SignalBased&&(a=e[r][xn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ir.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):vD(e,a,r,s)}finally{pe(o)}}function AP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mi(~i);else{let s=i,o=n[++r],a=n[++r];fN(o,s);let u=e[s];a(2,u)}}}finally{mi(-1)}}function Al(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Ln]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),DD(p),p[st]=p[Ls]=t,p[zt]=n,p[ln]=o||t&&t[ln],p[ze]=a||t&&t[ze],p[xs]=u||t&&t[xs]||null,p[Jt]=s,p[El]=WN(),p[Ju]=h,p[gD]=l,p[dn]=e.type==2?t[dn]:p,p}function Ml(t,e,n,r,i){let s=t.data[e];if(s===null)s=MP(t,e,n,r,i),hN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=aN();s.injectorIndex=o===null?-1:o.injectorIndex}return Ia(s,!0),s}function MP(t,e,n,r,i){let s=AD(),o=MD(),a=o?s:s&&s.parent,u=t.data[e]=kP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function IC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wC(t,e,n,r,i){let s=Vs(),o=r&2;try{mi(-1),o&&e.length>hn&&yC(t,e,hn,!1),an(o?2:0,i),n(r,i)}finally{mi(s),an(o?3:1,i)}}function EC(t,e,n){if(yD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function DC(t,e,n){SD()&&(BP(t,e,n,qt(n,e)),(n.flags&64)===64&&MC(t,e,n))}function CC(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function bC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tg(t,e,n,r,i,s,o,a,u,l,h){let p=hn+r,m=p+i,v=xP(p,m),S=typeof l=="function"?l():l;return v[ne]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function xP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mr);return n}function RP(t,e,n,r){let s=r.get(eP,iC)||n===un.ShadowDom,o=t.selectRootElement(e,s);return NP(o),o}function NP(t){PP(t)}var PP=()=>null;function OP(t,e,n,r){let i=NC(e);i.push(n),t.firstCreatePass&&PC(t).push(r,i.length-1)}function kP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return iN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ME(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ir.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?xE(r,n,l,a,u):xE(r,n,l,a)}return r}function xE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function FP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=ME(0,p.inputs,h,u,v),l=ME(1,p.outputs,h,l,S);let R=u!==null&&o!==null&&!Jp(e)?JP(u,h,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function LP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TC(t,e,n,r,i,s,o,a){let u=qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Sg(t,n,h,r,i),Dl(e)&&VP(n,e.index)):e.type&3?(r=LP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function VP(t,e){let n=Ar(e,t);n[Y]&16||(n[Y]|=64)}function SC(t,e,n,r){if(SD()){let i=r===null?null:{"":-1},s=HP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&AC(t,e,n,o,i,a),i&&zP(n,r,i)}n.mergedAttrs=ha(n.mergedAttrs,n.attrs)}function AC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)lp(sl(n,e),t,r[l].type);GP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=IC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ha(n.mergedAttrs,h.hostAttrs),WP(t,n,e,u,h),qP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}FP(t,n,s)}function UP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;jP(o)!=a&&o.push(a),o.push(n,r,s)}}function jP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Dl(n)&&KP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sl(n,e),_i(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=vi(e,t,a,n);if(_i(l,e),o!==null&&ZP(e,a-i,l,u,n,o),Er(u)){let h=Ar(n.index,e);h[zt]=vi(e,t,a,n)}}}function MC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=pN();try{mi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];ap(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$P(u,l)}}finally{mi(-1),ap(o)}}function $P(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(CR(e,o.selectors,!1))if(r||(r=[]),Er(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Ip(t,e,u)}else r.unshift(o),Ip(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ip(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function qP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function GP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ts(i.type,!0)),o=new yi(s,Er(i),J);t.blueprint[r]=o,n[r]=o,UP(t,e,r,IC(t,n,i.hostVars,Mr),i)}function KP(t,e,n){let r=qt(e,t),i=bC(n),s=t[ln].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=xl(t,Al(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QP(t,e,n,r,i,s){let o=qt(t,e);YP(e[ze],o,s,t.value,n,r,i)}function YP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?_l(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];_C(r,n,u,l,h,p)}}function JP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function xC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function RC(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ig(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function xl(t,e){return t[pa]?t[pE][Zt]=e:t[pa]=e,t[pE]=e,e}function wp(t,e,n){ig(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function NC(t){return t[Xu]??=[]}function PC(t){return t.cleanup??=[]}function OC(t,e){let n=t[xs],r=n?n.get(On,null):null;r&&r.handleError(e)}function Sg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];_C(h,l,r,a,u,i)}}function XP(t,e,n){let r=ED(e,t);lP(t[ze],r,n)}function eO(t,e){let n=Ar(e,t),r=n[ne];tO(r,n);let i=n[Ln];i!==null&&n[Ju]===null&&(n[Ju]=_g(i,n[xs])),Ag(r,n,n[zt])}function tO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ag(t,e,n){sg(e);try{let r=t.viewQuery;r!==null&&wp(1,r,n);let i=t.template;i!==null&&wC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pn]?.finishViewCreation(t),t.staticContentQueries&&RC(t,e),t.staticViewQueries&&wp(2,t.viewQuery,n);let s=t.components;s!==null&&nO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,og()}}function nO(t,e){for(let n=0;n<e.length;n++)eO(t,e[n])}function kC(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Y]&4096?4096:16,u=Al(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[fi]=l;let h=t[Pn];return h!==null&&(u[Pn]=h.createEmbeddedView(s)),Ag(s,u,n),u}finally{pe(i)}}function rO(t,e){let n=Et+e;if(n<t.length)return t[n]}function Ep(t,e){return!e||e.firstChild===null||JD(t)}function FC(t,e,n,r=!0){let i=e[ne];if(pP(i,e,t,n),r){let o=_p(n,t),a=e[ze],u=fC(a,t[pi]);u!==null&&hP(i,t[Jt],a,e,u,o)}let s=e[Ju];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function iO(t,e){let n=ul(t,e);return n!==void 0&&Dg(n[ne],n),n}function dl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(fn(s)),Vn(s)&&sO(s,r);let o=n.type;if(o&8)dl(t,e,n.child,r);else if(o&32){let a=wg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=pC(e,n);if(Array.isArray(a))r.push(...a);else{let u=gi(e[dn]);dl(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sO(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&dl(r[ne],r,i,e)}t[pi]!==t[Ln]&&e.push(t[pi])}var LC=[];function oO(t){return t[Ht]??aO(t)}function aO(t){let e=LC.pop()??Object.create(uO);return e.lView=t,e}function cO(t){t.lView[Ht]!==t&&(t.lView=null,LC.push(t))}var uO=ue(k({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bl(t.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function lO(t){let e=t[Ht]??Object.create(dO);return e.lView=t,e}var dO=ue(k({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=gi(t.lView);for(;e&&!VC(e[ne]);)e=gi(e);e&&CD(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function VC(t){return t.type!==2}var hO=100;function UC(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,s=!1;s||i.begin?.();try{fO(t,n)}catch(o){throw e&&OC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fO(t,e){let n=xD();try{mE(!0),Dp(t,e);let r=0;for(;Cl(t);){if(r===hO)throw new H(103,!1);r++,Dp(t,1)}}finally{mE(n)}}function pO(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ln].inlineEffectRunner?.flush(),sg(e);let a=!0,u=null,l=null;s||(VC(t)?(l=oO(e),u=au(l)):Iw()===null?(a=!1,l=lO(e),u=au(l)):e[Ht]&&(vf(e[Ht]),e[Ht]=null));try{DD(e),lN(t.bindingStartIndex),n!==null&&wC(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&Hu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&zu(e,v,0,null),jf(e,0)}if(o||gO(e),jC(e,0),t.contentQueries!==null&&RC(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&Hu(e,v)}else{let v=t.contentHooks;v!==null&&zu(e,v,1),jf(e,1)}AP(t,e);let p=t.components;p!==null&&$C(e,p,0);let m=t.viewQuery;if(m!==null&&wp(2,m,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&Hu(e,v)}else{let v=t.viewHooks;v!==null&&zu(e,v,2),jf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Uf]){for(let v of e[Uf])v();e[Uf]=null}s||(e[Y]&=-73)}catch(h){throw s||bl(e),h}finally{l!==null&&(mf(l,u),a&&cO(l)),og()}}function jC(t,e){for(let n=eC(t);n!==null;n=tC(n))for(let r=Et;r<n.length;r++){let i=n[r];BC(i,e)}}function gO(t){for(let e=eC(t);e!==null;e=tC(e)){if(!(e[Y]&tl.HasTransplantedViews))continue;let n=e[Rs];for(let r=0;r<n.length;r++){let i=n[r];CD(i)}}}function mO(t,e,n){let r=Ar(e,t);BC(r,n)}function BC(t,e){rg(t)&&Dp(t,e)}function Dp(t,e){let r=t[ne],i=t[Y],s=t[Ht],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&yf(s)),o||=!1,s&&(s.dirty=!1),t[Y]&=-9217,o)pO(r,t,r.template,t[zt]);else if(i&8192){jC(t,1);let a=r.components;a!==null&&$C(t,a,1)}}function $C(t,e,n){for(let r=0;r<e.length;r++)mO(t,e[r],n)}function Mg(t,e){let n=xD()?64:1088;for(t[ln].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=gi(t);if(ip(t)&&!r)return t;t=r}return null}var Ii=class{get rootNodes(){let e=this._lView,n=e[ne];return dl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Vn(e)){let n=e[el],r=n?n.indexOf(this):-1;r>-1&&(ul(e,r),Yu(n,r))}this._attachedToViewContainer=!1}Dg(this._lView[ne],this._lView)}onDestroy(e){bD(this._lView,e)}markForCheck(){Mg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){op(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,UC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ip(this._lView),n=this._lView[fi];n!==null&&!e&&Eg(n,this._lView),lC(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=ip(this._lView),r=this._lView[fi];r!==null&&!n&&dC(r,this._lView),op(this._lView)}},wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_O;let t=e;return t})(),yO=wi,vO=class extends yO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=kC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ii(i)}};function _O(){return xg(ct(),we())}function xg(t,e){return t.type&4?new vO(e,t,js(t,e)):null}var $9=new RegExp(`^(\\d+)*(${JN}|${ZN})*(.*)`);var IO=()=>null;function Cp(t,e){return IO(t,e)}var Ns=class{},Rg=new j("",{providedIn:"root",factory:()=>!1});var HC=new j(""),zC=new j(""),bp=class{},hl=class{};function wO(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[EO]=t,e}var EO="ngComponent";var Tp=class{resolveComponentFactory(e){throw wO(e)}},Vg=class Vg{};Vg.NULL=new Tp;var Ps=Vg,Os=class{},Un=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>DO();let t=e;return t})();function DO(){let t=we(),e=ct(),n=Ar(e.index,t);return(_r(n)?n:t)[ze]}var CO=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Sp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=iE(i,a);else if(s==2){let u=a,l=e[++o];r=iE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var fl=class extends Ps{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new ks(n,this.ngModule)}};function RE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ir.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ir.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function bO(t){let e=t.toLowerCase();return e==="svg"?QR:e==="math"?YR:null}var ks=class extends hl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=RE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return RE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=AR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new cp(e,o):e,u=a.get(Os,null);if(u===null)throw new H(407,!1);let l=a.get(CO,null),h=a.get(Ns,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?RP(m,r,this.componentDef.encapsulation,a):uC(m,v,bO(v)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let M=null;S!==null&&(M=_g(S,a,!0));let F=Tg(0,null,null,1,0,null,null,null,null,null,null),$=Al(null,F,null,R,null,null,p,m,a,null,M);sg($);let q,ce,Ne=null;try{let ee=this.componentDef,D,y=null;ee.findHostDirectiveDefs?(D=[],y=new Map,ee.findHostDirectiveDefs(ee,D,y),D.push(ee)):D=[ee];let _=TO($,S);Ne=SO(_,S,ee,D,$,p,m),ce=ng(F,hn),S&&xO(m,ee,S,r),n!==void 0&&RO(ce,this.ngContentSelectors,n),q=MO(Ne,ee,D,y,$,[NO]),Ag(F,$,null)}catch(ee){throw Ne!==null&&yp(Ne),yp($),ee}finally{og()}return new Ap(this.componentType,q,js(ce,$),$,ce)}finally{pe(s)}}},Ap=class extends bp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ii(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Sg(s[ne],s,i,e,n),this.previousInputValues.set(e,n);let o=Ar(this._tNode.index,s);Mg(o,1)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TO(t,e){let n=t[ne],r=hn;return t[r]=e,Ml(n,r,2,"#host",null)}function SO(t,e,n,r,i,s,o){let a=i[ne];AO(r,t,e,o);let u=null;e!==null&&(u=_g(e,i[xs]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Al(i,bC(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Ip(a,t,r.length-1),xl(i,p),i[t.index]=p}function AO(t,e,n,r){for(let i of t)e.mergedAttrs=ha(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sp(e,e.mergedAttrs,!0),n!==null&&mC(r,n,e))}function MO(t,e,n,r,i,s){let o=ct(),a=i[ne],u=qt(o,i);AC(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=vi(i,a,p,o);_i(m,i)}MC(a,i,o),u&&_i(u,i);let l=vi(i,a,o.directiveStart+o.componentOffset,o);if(t[zt]=i[zt]=l,s!==null)for(let h of s)h(l,e);return EC(a,o,i),l}function xO(t,e,n,r){if(r)ep(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=MR(e.selectors[0]);i&&ep(t,n,i),s&&s.length>0&&gC(t,n,s.join(" "))}}function RO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function NO(){let t=ct();lg(we()[ne],t)}var xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PO;let t=e;return t})();function PO(){let t=ct();return GC(t,we())}var OO=xr,qC=class extends OO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=dg(this._hostTNode,this._hostLView);if(UD(e)){let n=il(e,this._hostLView),r=rl(e),i=n[ne].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=NE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Cp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ep(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!qR(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new ks(wr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Mt,null);R&&(s=R)}let h=wr(u.componentType??{}),p=Cp(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,Ep(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(JR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new qC(u,u[Jt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return FC(o,i,s,r),e.attachToViewContainerRef(),JE(qf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=NE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ul(this._lContainer,n);r&&(Yu(qf(this._lContainer),n),Dg(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=ul(this._lContainer,n);return r&&Yu(qf(this._lContainer),n)!=null?new Ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function NE(t){return t[el]}function qf(t){return t[el]||(t[el]=[])}function GC(t,e){let n,r=e[t.index];return Vn(r)?n=r:(n=xC(r,e,null,t),e[t.index]=n,xl(e,n)),FO(n,e,t,r),new qC(n,t,e)}function kO(t,e){let n=t[ze],r=n.createComment(""),i=qt(e,t),s=fC(n,i);return ll(n,s,r,_P(n,i),!1),r}var FO=UO,LO=()=>!1;function VO(t,e,n){return LO(t,e,n)}function UO(t,e,n,r){if(t[pi])return;let i;n.type&8?i=fn(r):i=kO(e,n),t[pi]=i}var Mp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},xp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ng(e,n).matches!==null&&this.queries[n].setDirty()}},Rp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=WO(e):this.predicate=e}},Np=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,jO(n,s)),this.matchTNodeWithReadOption(e,n,qu(n,e,s,!1,!1))}else r===wi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,qu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===xr||i===wi&&n.type&4)this.addMatch(n.index,-2);else{let s=qu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function jO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function BO(t,e){return t.type&11?js(t,e):t.type&4?xg(t,e):null}function $O(t,e,n,r){return n===-1?BO(e,t):n===-2?HO(t,e,r):vi(t,t[ne],n,e)}function HO(t,e,n){if(n===Nt)return js(e,t);if(n===wi)return xg(e,t);if(n===xr)return GC(e,t)}function WC(t,e,n,r){let i=e[Pn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push($O(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Op(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=WC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Et;p<h.length;p++){let m=h[p];m[fi]===m[st]&&Op(m[ne],m,l,r)}if(h[Rs]!==null){let p=h[Rs];for(let m=0;m<p.length;m++){let v=p[m];Op(v[ne],v,l,r)}}}}}return r}function zO(t,e){return t[Pn].queries[e].queryList}function qO(t,e,n){let r=new mp((n&4)===4);return OP(t,e,r,r.destroy),(e[Pn]??=new xp).queries.push(new Mp(r))-1}function GO(t,e,n,r){let i=_t();if(i.firstCreatePass){let s=ct();KO(i,new Rp(e,n,r),s.index),QO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return qO(i,we(),n)}function WO(t){return t.split(",").map(e=>e.trim())}function KO(t,e,n){t.queries===null&&(t.queries=new Np),t.queries.track(new Pp(e,n))}function QO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Ng(t,e){return t.queries.getByIndex(e)}function YO(t,e){let n=t[ne],r=Ng(n,e);return r.crossesNgTemplate?Op(n,t,e,[]):WC(n,t,r,e)}var PE=new Set;function Di(t){PE.has(t)||(PE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ZO(t){return typeof t=="function"&&t[xn]!==void 0}function Rl(t,e){Di("NgSignals");let n=Rw(t),r=n[xn];return e?.equal&&(r.equal=e.equal),n.set=i=>_f(r,i),n.update=i=>Nw(r,i),n.asReadonly=JO.bind(n),n}function JO(){let t=this[xn];if(t.readonlyFn===void 0){let e=()=>this();e[xn]=t,t.readonlyFn=e}return t.readonlyFn}function KC(t){return ZO(t)&&typeof t.set=="function"}function XO(t){return Object.getPrototypeOf(t.prototype).constructor}function Bs(t){let e=XO(t.type),n=!0,r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Uu(t.inputs),o.inputTransforms=Uu(t.inputTransforms),o.declaredInputs=Uu(t.declaredInputs),o.outputs=Uu(t.outputs);let a=i.hostBindings;a&&ik(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&nk(t,u),l&&rk(t,l),ek(t,i),Kx(t.outputs,i.outputs),Er(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Bs&&(n=!1)}}e=Object.getPrototypeOf(e)}tk(r)}function ek(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function tk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ha(i.hostAttrs,n=ha(n,i.hostAttrs))}}function Uu(t){return t===Ss?{}:t===$t?[]:t}function nk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function ik(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Dr=class{},ga=class{};var kp=class extends Dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);let s=aD(e);this._bootstrapComponents=cC(s.bootstrap),this._r3Injector=KD(e,n,[{provide:Dr,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fp=class extends ga{constructor(e){super(),this.moduleType=e}create(e){return new kp(this.moduleType,e,[])}};var pl=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new fl(this),this.instance=null;let n=new fa([...e.providers,{provide:Dr,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver}],e.parent||eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nl(t,e,n=null){return new pl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function QC(t){return ok(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ok(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ak(t,e,n){return t[e]=n}function Cr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ck(t,e,n,r){let i=Cr(t,e,n);return Cr(t,e+1,r)||i}function uk(t){return(t.flags&32)===32}function lk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Ml(e,t,4,o||null,a||null);SC(e,n,h,nl(l,u)),lg(e,h);let p=h.tView=Tg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function dk(t,e,n,r,i,s,o,a,u,l){let h=n+hn,p=e.firstCreatePass?lk(h,e,t,r,i,s,o,a,u):e.data[h];Ia(p,!1);let m=hk(e,t,p,n);cg()&&Cg(e,t,m,p),_i(m,t);let v=xC(m,t,m,p);return t[h]=v,xl(t,v),VO(v,p,t),tg(p)&&DC(e,t,p),u!=null&&CC(t,p,l),p}function Rr(t,e,n,r,i,s,o,a){let u=we(),l=_t(),h=nl(l.consts,s);return dk(u,l,t,e,n,r,i,h,o,a),Rr}var hk=fk;function fk(t,e,n,r){return ug(!0),e[ze].createComment("")}var Ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ds||{}),YC=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),di=class di{constructor(){this.ngZone=P(Ie),this.scheduler=P(Ns),this.errorHandler=P(On,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of di.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};di.PHASES=[Ds.EarlyRead,Ds.Write,Ds.MixedReadWrite,Ds.Read],di.\u0275prov=B({token:di,providedIn:"root",factory:()=>new di});var Lp=di,Vp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Og(t,e){!e?.injector&&zR(Og);let n=e?.injector??P(Xe);return aP(n)?(Di("NgAfterNextRender"),gk(t,n,e,!0)):mk}function pk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function gk(t,e,n,r){let i=e.get(YC);i.impl??=e.get(Lp);let s=n?.phase??Ds.MixedReadWrite,o=new Vp(i.impl,pk(t,s),r,e.get(fg));return i.impl.register(o),o}var mk={destroy(){}};function Pl(t,e,n,r){let i=we(),s=wa();if(Cr(i,s,e)){let o=_t(),a=ag();QP(a,i,t,e,n,r)}return Pl}function yk(t,e,n,r){return Cr(t,wa(),n)?e+_l(n)+r:Mr}function ju(t,e){return t<<17|e<<2}function Ei(t){return t>>17&32767}function vk(t){return(t&2)==2}function _k(t,e){return t&131071|e<<17}function Up(t){return t|2}function Fs(t){return(t&131068)>>2}function Gf(t,e){return t&-131069|e<<2}function Ik(t){return(t&1)===1}function jp(t){return t|1}function wk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ei(o),u=Fs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_a(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ei(t[a+1]);t[r+1]=ju(m,a),m!==0&&(t[m+1]=Gf(t[m+1],r)),t[a+1]=_k(t[a+1],r)}else t[r+1]=ju(a,0),a!==0&&(t[a+1]=Gf(t[a+1],r)),a=r;else t[r+1]=ju(u,0),a===0?a=r:t[u+1]=Gf(t[u+1],r),u=r;l&&(t[r+1]=Up(t[r+1])),OE(t,h,r,!0),OE(t,h,r,!1),Ek(e,h,t,r,s),o=ju(a,u),s?e.classBindings=o:e.styleBindings=o}function Ek(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&_a(s,e)>=0&&(n[r+1]=jp(n[r+1]))}function OE(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ei(i):Fs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Dk(u,e)&&(a=!0,t[o+1]=r?jp(l):Up(l)),o=r?Ei(l):Fs(l)}a&&(t[n+1]=r?Up(i):jp(i))}function Dk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_a(t,e)>=0:!1}function Ci(t,e,n){let r=we(),i=wa();if(Cr(r,i,e)){let s=_t(),o=ag();TC(s,o,r,t,e,r[ze],n,!1)}return Ci}function kE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Sg(t,n,s[o],o,r)}function Ol(t,e,n){return ZC(t,e,n,!1),Ol}function Ca(t,e){return ZC(t,e,null,!0),Ca}function ZC(t,e,n,r){let i=we(),s=_t(),o=dN(2);if(s.firstUpdatePass&&bk(s,t,o,r),e!==Mr&&Cr(i,o,e)){let a=s.data[Vs()];xk(s,a,i,i[ze],t,i[o+1]=Rk(e,n),r,o)}}function Ck(t,e){return e>=t.expandoStartIndex}function bk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Vs()],o=Ck(t,n);Nk(s,r)&&e===null&&!o&&(e=!1),e=Tk(i,s,e,r),wk(i,s,e,n,o,r)}}function Tk(t,e,n,r){let i=gN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wf(null,t,e,n,r),n=ma(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Wf(i,t,e,n,r),s===null){let u=Sk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Wf(null,t,e,u[1],r),u=ma(u,e.attrs,r),Ak(t,e,r,u))}else s=Mk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Sk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fs(r)!==0)return t[Ei(r)]}function Ak(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ei(i)]=r}function Mk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ma(r,o,n)}return ma(r,e.attrs,n)}function Wf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ma(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ma(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function xk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Ik(l)?FE(u,e,n,i,Fs(l),o):void 0;if(!gl(h)){gl(s)||vk(l)&&(s=FE(u,null,n,i,a,o));let p=ED(Vs(),n);TP(r,o,p,i,s)}}function FE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Mr&&(m=p?$t:void 0);let v=p?Lf(m,r):h===r?m:void 0;if(l&&!gl(v)&&(v=Lf(u,r)),gl(v)&&(a=v,o))return a;let S=t[i+1];i=o?Ei(S):Fs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Lf(u,r))}return a}function gl(t){return t!==void 0}function Rk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(Da(t)))),t}function Nk(t,e){return(t.flags&(e?8:16))!==0}function Nr(t,e){Di("NgControlFlow");let n=we(),r=wa(),i=n[r]!==Mr?n[r]:-1,s=i!==-1?LE(n,hn+i):void 0,o=0;if(Cr(n,r,t)){let a=pe(null);try{if(s!==void 0&&iO(s,o),t!==-1){let u=hn+t,l=LE(n,u),h=Pk(n[ne],u),p=Cp(l,h.tView.ssrId),m=kC(n,h,e,{dehydratedView:p});FC(l,m,o,Ep(h,p))}}finally{pe(a)}}else if(s!==void 0){let a=rO(s,o);a!==void 0&&(a[zt]=e)}}function LE(t,e){return t[e]}function Pk(t,e){return ng(t,e)}function Ok(t,e,n,r,i,s){let o=e.consts,a=nl(o,i),u=Ml(e,t,2,r,a);return SC(e,n,u,nl(o,s)),u.attrs!==null&&Sp(u,u.attrs,!1),u.mergedAttrs!==null&&Sp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U(t,e,n,r){let i=we(),s=_t(),o=hn+t,a=i[ze],u=s.firstCreatePass?Ok(o,s,i,e,n,r):s.data[o],l=kk(s,i,u,a,e,t);i[o]=l;let h=tg(u);return Ia(u,!0),mC(a,l,u),!uk(u)&&cg()&&Cg(s,i,l,u),tN()===0&&_i(l,i),nN(),h&&(DC(s,i,u),EC(s,u,i)),r!==null&&CC(i,u),U}function G(){let t=ct();MD()?cN():(t=t.parent,Ia(t,!1));let e=t;sN(e)&&oN(),rN();let n=_t();return n.firstCreatePass&&(lg(n,t),yD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&EN(e)&&kE(n,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DN(e)&&kE(n,e,we(),e.stylesWithoutHost,!1),G}function Se(t,e,n,r){return U(t,e,n,r),G(),Se}var kk=(t,e,n,r,i,s)=>(ug(!0),uC(r,i,vN()));function bi(){return we()}var ml="en-US";var Fk=ml;function Lk(t){typeof t=="string"&&(Fk=t.toLowerCase().replace(/_/g,"-"))}var Vk=(t,e,n)=>{};function ut(t,e,n,r){let i=we(),s=_t(),o=ct();return JC(s,i,i[ze],o,t,e,r),ut}function Uk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Xu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function JC(t,e,n,r,i,s,o){let a=tg(r),l=t.firstCreatePass&&PC(t),h=e[zt],p=NC(e),m=!0;if(r.type&3||o){let R=qt(r,e),M=o?o(R):R,F=p.length,$=o?ce=>o(fn(ce[r.index])):r.index,q=null;if(!o&&a&&(q=Uk(t,e,i,r.index)),q!==null){let ce=q.__ngLastListenerFn__||q;ce.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=UE(r,e,h,s),Vk(R,i,s);let ce=n.listen(M,i,s);p.push(s,ce),l&&l.push(i,$,F,F+1)}}else s=UE(r,e,h,s);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let R=S.length;if(R)for(let M=0;M<R;M+=2){let F=S[M],$=S[M+1],Ne=e[F][$].subscribe(s),ee=p.length;p.push(s,Ne),l&&l.push(i,r.index,ee,-(ee+1))}}}function VE(t,e,n,r){let i=pe(null);try{return an(6,e,n),n(r)!==!1}catch(s){return OC(t,s),!1}finally{an(7,e,n),pe(i)}}function UE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Ar(t.index,e):e;Mg(o,5);let a=VE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=VE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function qe(t=1){return yN(t)}function XC(t,e,n,r){GO(t,e,n,r)}function eb(t){let e=we(),n=_t(),r=RD();ig(r+1);let i=Ng(n,r);if(t.dirty&&ZR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=YO(e,r);t.reset(s,zN),t.notifyOnChanges()}return!0}return!1}function tb(){return zO(we(),RD())}function me(t,e=""){let n=we(),r=_t(),i=t+hn,s=r.firstCreatePass?Ml(r,i,1,e,null):r.data[i],o=jk(r,n,s,e,t);n[i]=o,cg()&&Cg(r,n,o,s),Ia(s,!1)}var jk=(t,e,n,r,i)=>(ug(!0),uP(e[ze],r));function Ti(t){return jn("",t,""),Ti}function jn(t,e,n){let r=we(),i=yk(r,t,e,n);return i!==Mr&&XP(r,Vs(),i),jn}function Pr(t,e,n){KC(e)&&(e=e());let r=we(),i=wa();if(Cr(r,i,e)){let s=_t(),o=ag();TC(s,o,r,t,e,r[ze],n,!1)}return Pr}function Si(t,e){let n=KC(t);return n&&t.set(e),n}function Or(t,e){let n=we(),r=_t(),i=ct();return JC(r,n,n[ze],i,t,e),Or}function Bk(t,e,n){let r=_t();if(r.firstCreatePass){let i=Er(t);Bp(n,r.data,r.blueprint,i,!0),Bp(e,r.data,r.blueprint,i,!1)}}function Bp(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Bp(t[s],e,n,r,i);else{let s=_t(),o=we(),a=ct(),u=Ms(t)?t:yt(t.provide),l=fD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ms(t)||!t.multi){let v=new yi(l,i,J),S=Qf(u,e,i?h:h+m,p);S===-1?(lp(sl(a,o),s,u),Kf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Qf(u,e,h+m,p),S=Qf(u,e,h,h+m),R=v>=0&&n[v],M=S>=0&&n[S];if(i&&!M||!i&&!R){lp(sl(a,o),s,u);let F=zk(i?Hk:$k,n.length,i,r,l);!i&&M&&(n[S].providerFactory=F),Kf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=nb(n[i?S:v],l,!i&&r);Kf(s,t,v>-1?v:S,F)}!i&&r&&M&&n[S].componentProviders++}}}function Kf(t,e,n,r){let i=Ms(e),s=LR(e);if(i||s){let u=(s?yt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function nb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $k(t,e,n,r){return $p(this.multi,[])}function Hk(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=vi(n,n[ne],this.providerFactory.index,r);s=a.slice(0,o),$p(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],$p(i,s);return s}function $p(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function zk(t,e,n,r,i){let s=new yi(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,nb(s,i,r&&!n),s}function kg(t,e=[]){return n=>{n.providersResolver=(r,i)=>Bk(r,i?i(t):t,e)}}var qk=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=lD(!1,r.type),s=i.length>0?Nl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(Z(Mt))});let t=e;return t})();function lt(t){Di("NgStandalone"),t.getStandaloneInjector=e=>e.get(qk).getOrCreateStandaloneInjector(t)}function rb(t,e,n,r,i){return Wk(we(),uN(),t,e,n,r,i)}function Gk(t,e){let n=t[e];return n===Mr?void 0:n}function Wk(t,e,n,r,i,s,o){let a=e+n;return ck(t,a,i,s)?ak(t,a+2,o?r.call(o,i,s):r(i,s)):Gk(t,a+2)}var Fn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ib=new Fn("18.2.3");var kl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var sb=new j("");function Ai(t){return!!t&&typeof t.then=="function"}function ob(t){return!!t&&typeof t.subscribe=="function"}var Fl=new j(""),ab=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(Fl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ai(o))r.push(o);else if(ob(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ll=new j("");function Kk(){xw(()=>{throw new H(600,!1)})}function Qk(t){return t.isBoundToModule}var Yk=10;function Zk(t,e,n){try{let r=n();return Ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Mi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P($N),this.afterRenderManager=P(YC),this.zonelessEnabled=P(Rg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=P(Us).hasPendingTasks.pipe(se(r=>!r)),this._injector=P(Mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof hl;if(!this._injector.get(ab).done){let v=!s&&oD(r),S=!1;throw new H(405,S)}let a;s?a=r:a=this._injector.get(Ps).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Qk(a)?void 0:this._injector.get(Dr),l=i||a.selector,h=a.create(Xe.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(sb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Gu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,pe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Os,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Yk;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Jk(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Cl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Gu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ll,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Gu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Jk(t,e,n,r){if(!n&&!Cl(t))return;UC(t,e,n&&!r?0:1)}var Hp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vl=(()=>{let e=class e{compileModuleSync(r){return new Fp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=aD(r),o=cC(s.declarations).reduce((a,u)=>{let l=wr(u);return l&&a.push(new ks(l)),a},[]);return new Hp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xk=(()=>{let e=class e{constructor(){this.zone=P(Ie),this.changeDetectionScheduler=P(Ns),this.applicationRef=P(Mi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e1=new j("",{factory:()=>!1});function cb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(ue(k({},lb()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:As,multi:!0,useFactory:()=>{let r=P(Xk,{optional:!0});return()=>r.initialize()}},{provide:As,multi:!0,useFactory:()=>{let r=P(t1);return()=>{r.initialize()}}},e===!0?{provide:HC,useValue:!0}:[],{provide:zC,useValue:n??QD}]}function ub(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=cb({ngZoneFactory:()=>{let i=lb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Di("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return pn([{provide:e1,useValue:!0},{provide:Rg,useValue:!1},r])}function lb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var t1=(()=>{let e=class e{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=P(Ie),this.pendingTasks=P(Us)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var n1=(()=>{let e=class e{constructor(){this.appRef=P(Mi),this.taskService=P(Us),this.ngZone=P(Ie),this.zonelessEnabled=P(Rg),this.disableScheduling=P(HC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(al):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(zC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?EE:YD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(al+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,EE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r1(){return typeof $localize<"u"&&$localize.locale||ml}var Fg=new j("",{providedIn:"root",factory:()=>P(Fg,oe.Optional|oe.SkipSelf)||r1()});var db=new j("");function Bu(t){return!!t.platformInjector}function i1(t){let e=Bu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{Bu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Bu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(db);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Gu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Zk(r,n,()=>{let s=e.get(ab);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Fg,ml);if(Lk(o||ml),Bu(t)){let a=e.get(Mi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return s1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function s1(t,e){let n=t.injector.get(Mi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var Wu=null;function o1(t=[],e){return Xe.create({name:e,providers:[{provide:wl,useValue:"platform"},{provide:db,useValue:new Set([()=>Wu=null])},...t]})}function a1(t=[]){if(Wu)return Wu;let e=o1(t);return Wu=e,Kk(),c1(e),e}function c1(t){t.get(yg,null)?.forEach(n=>n())}var kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=u1;let t=e;return t})();function u1(t){return l1(ct(),we(),(t&16)===16)}function l1(t,e,n){if(Dl(t)&&!n){let r=Ar(t.index,e);return new Ii(r,r)}else if(t.type&175){let r=e[dn];return new Ii(r,e)}return null}var zp=class{constructor(){}supports(e){return QC(e)}create(e){return new qp(e)}},d1=(t,e)=>e,qp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<jE(r,i,s)?n:r,a=jE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,S=v+m;h<=S&&S<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!QC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,sk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Gp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new yl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Wp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function BE(){return new Lg([new zp])}var Lg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||BE()),deps:[[e,new Yp,new ot]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:BE});let t=e;return t})();function hb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=a1(r),s=[cb({}),{provide:Ns,useExisting:n1},...n||[]],o=new pl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return i1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var fb=new j("");function xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ul(t,e){Di("NgSignals");let n=Sw(t);return e?.equal&&(n[xn].equal=e.equal),n}function Fr(t){let e=pe(null);try{return t()}finally{pe(e)}}function pb(t){let e=wr(t);if(!e)return null;let n=new ks(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ib=null;function $n(){return Ib}function wb(t){Ib??=t}var jl=class{};var It=new j(""),zg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(h1),providedIn:"platform"});let t=e;return t})(),Eb=new j(""),h1=(()=>{let e=class e extends zg{constructor(){super(),this._doc=P(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $n().getBaseHref(this._doc)}onPopState(r){let i=$n().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=$n().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function qg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function gb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Bn(t){return t&&t[0]!=="?"?"?"+t:t}var Hn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(Gg),providedIn:"root"});let t=e;return t})(),Db=new j(""),Gg=(()=>{let e=class e extends Hn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return qg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Bn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Bn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Bn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Z(zg),Z(Db,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cb=(()=>{let e=class e extends Hn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=qg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Bn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Bn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Z(zg),Z(Db,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),$s=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=g1(gb(mb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Bn(i))}normalize(r){return e.stripTrailingSlash(p1(this._basePath,mb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Bn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Bn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Bn,e.joinWithSlash=qg,e.stripTrailingSlash=gb,e.\u0275fac=function(i){return new(i||e)(Z(Hn))},e.\u0275prov=B({token:e,factory:()=>f1(),providedIn:"root"});let t=e;return t})();function f1(){return new $s(Z(Hn))}function p1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function mb(t){return t.replace(/\/index.html$/,"")}function g1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function bb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ug=/\s+/,yb=[],Tb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=yb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Ug):yb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Ug):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Ug).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(J(Nt),J(Un))},e.\u0275dir=Dt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var jg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Sb=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new jg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),vb(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);vb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(xr),J(wi),J(Lg))},e.\u0275dir=Dt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function vb(t,e){t.context.$implicit=e.item}var Ab=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Bg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){_b("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){_b("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(xr),J(wi))},e.\u0275dir=Dt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Bg=class{constructor(){this.$implicit=null,this.ngIf=null}};function _b(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}var zn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tr({type:e}),e.\u0275inj=br({});let t=e;return t})(),Wg="browser",m1="server";function y1(t){return t===Wg}function Kg(t){return t===m1}var Mb=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>y1(P(mn))?new $g(P(It),window):new Hg});let t=e;return t})(),$g=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=v1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function v1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Hg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Bl=class{};var Jg=class extends jl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xg=class t extends Jg{static makeCurrent(){wb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_1();return n==null?null:I1(n)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bb(document.cookie,e)}},ba=null;function _1(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function I1(t){return new URL(t,document.baseURI).pathname}var w1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),$l=new j(""),Pb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Z($l),Z(Ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=class{constructor(e){this._doc=e}},Yg="ng-app-id",Ob=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Yg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Yg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Yg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Z(It),Z(mg),Z(vg,8),Z(mn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tm=/%COMP%/g,kb="%COMP%",E1=`_nghost-${kb}`,D1=`_ngcontent-${kb}`,C1=!0,b1=new j("",{providedIn:"root",factory:()=>C1});function T1(t){return D1.replace(tm,t)}function S1(t){return E1.replace(tm,t)}function Fb(t,e){return e.map(n=>n.replace(tm,t))}var xb=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Kg(u),this.defaultRenderer=new Sa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i=ue(k({},i),{encapsulation:un.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Hl?s.applyToHost(r):s instanceof Aa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case un.Emulated:o=new Hl(l,h,i,this.appId,p,a,u,m);break;case un.ShadowDom:return new em(l,h,r,i,a,u,this.nonce,m);default:o=new Aa(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Z(Pb),Z(Ob),Z(mg),Z(b1),Z(It),Z(mn),Z(Ie),Z(vg))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Sa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Rb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Rb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Zg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(n,r,i&kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=$n().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Rb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var em=class extends Sa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Fb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Aa=class extends Sa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Fb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hl=class extends Aa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=T1(l),this.hostAttr=S1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},A1=(()=>{let e=class e extends Ta{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Z(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),M1=(()=>{let e=class e extends Ta{constructor(r){super(r),this.delegate=P(fb,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(Z(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Nb=["alt","control","meta","shift"],x1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},N1=(()=>{let e=class e extends Ta{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$n().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Nb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=x1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Nb.forEach(a=>{if(a!==s){let u=R1[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Z(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function Lb(t,e){return hb(k({rootComponent:t},P1(e)))}function P1(t){return{appProviders:[...V1,...t?.providers??[]],platformProviders:L1}}function O1(){Xg.makeCurrent()}function k1(){return new On}function F1(){return rC(document),document}var L1=[{provide:mn,useValue:Wg},{provide:yg,useValue:O1,multi:!0},{provide:It,useFactory:F1,deps:[]}];var V1=[{provide:wl,useValue:"root"},{provide:On,useFactory:k1,deps:[]},{provide:$l,useClass:A1,multi:!0,deps:[It,Ie,mn]},{provide:$l,useClass:N1,multi:!0,deps:[It]},{provide:$l,useClass:M1,multi:!0},xb,Ob,Pb,{provide:Os,useExisting:xb},{provide:Bl,useClass:w1,deps:[]},[]];var Vb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Z(It))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ie="primary",Ha=Symbol("RouteTitle"),om=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ks(t){return new om(t)}function j1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function B1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yn(t[n],e[n]))return!1;return!0}function yn(t,e){let n=t?am(t):void 0,r=e?am(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Qb(t[i],e[i]))return!1;return!0}function am(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Qb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Yb(t){return t.length>0?t[t.length-1]:null}function Ur(t){return Nf(t)?t:Ai(t)?Me(Promise.resolve(t)):W(t)}var $1={exact:Jb,subset:Xb},Zb={exact:H1,subset:z1,ignored:()=>!0};function Ub(t,e,n){return $1[n.paths](t.root,e.root,n.matrixParams)&&Zb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function H1(t,e){return yn(t,e)}function Jb(t,e,n){if(!Ni(t.segments,e.segments)||!Gl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Jb(t.children[r],e.children[r],n))return!1;return!0}function z1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qb(t[n],e[n]))}function Xb(t,e,n){return e0(t,e,e.segments,n)}function e0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ni(i,n)||e.hasChildren()||!Gl(i,n,r))}else if(t.segments.length===n.length){if(!Ni(t.segments,n)||!Gl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Xb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ni(t.segments,i)||!Gl(t.segments,i,r)||!t.children[ie]?!1:e0(t.children[ie],e,s,r)}}function Gl(t,e,n){return e.every((r,i)=>Zb[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return W1.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wl(this)}},Ri=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ks(this.parameters),this._parameterMap}toString(){return n0(this)}};function q1(t,e){return Ni(t,e)&&t.every((n,r)=>yn(n.parameters,e[r].parameters))}function Ni(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function G1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var za=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Qs,providedIn:"root"});let t=e;return t})(),Qs=class{parse(e){let n=new um(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ma(e.root,!0)}`,r=Y1(e.queryParams),i=typeof e.fragment=="string"?`#${K1(e.fragment)}`:"";return`${n}${r}${i}`}},W1=new Qs;function Wl(t){return t.segments.map(e=>n0(e)).join("/")}function Ma(t,e){if(!t.hasChildren())return Wl(t);if(e){let n=t.children[ie]?Ma(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${Ma(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=G1(t,(r,i)=>i===ie?[Ma(t.children[ie],!1)]:[`${i}:${Ma(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${Wl(t)}/${n[0]}`:`${Wl(t)}/(${n.join("//")})`}}function t0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zl(t){return t0(t).replace(/%3B/gi,";")}function K1(t){return encodeURI(t)}function cm(t){return t0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(t){return decodeURIComponent(t)}function jb(t){return Kl(t.replace(/\+/g,"%20"))}function n0(t){return`${cm(t.path)}${Q1(t.parameters)}`}function Q1(t){return Object.entries(t).map(([e,n])=>`;${cm(e)}=${cm(n)}`).join("")}function Y1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${zl(n)}=${zl(i)}`).join("&"):`${zl(n)}=${zl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Z1=/^[^\/()?;#]+/;function nm(t){let e=t.match(Z1);return e?e[0]:""}var J1=/^[^\/()?;=#]+/;function X1(t){let e=t.match(J1);return e?e[0]:""}var eF=/^[^=?&#]+/;function tF(t){let e=t.match(eF);return e?e[0]:""}var nF=/^[^&#]+/;function rF(t){let e=t.match(nF);return e?e[0]:""}var um=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ee(e,n)),r}parseSegment(){let e=nm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Ri(Kl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=X1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nm(this.remaining);i&&(r=i,this.capture(r))}e[Kl(n)]=Kl(r)}parseQueryParam(e){let n=tF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=rF(this.remaining);o&&(r=o,this.capture(r))}let i=jb(n),s=jb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ie]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function r0(t){return t.segments.length>0?new Ee([],{[ie]:t}):t}function i0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=i0(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return iF(n)}function iF(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Pi(t){return t instanceof Gn}function sF(t,e,n=null,r=null){let i=s0(t);return o0(i,e,n,r)}function s0(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=r0(r);return e??i}function o0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rm(i,i,i,n,r);let s=oF(e);if(s.toRoot())return rm(i,i,new Ee([],{}),n,r);let o=aF(s,i,t),a=o.processChildren?Na(o.segmentGroup,o.index,s.commands):c0(o.segmentGroup,o.index,s.commands);return rm(i,o.segmentGroup,a,n,r)}function Ql(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ka(t){return typeof t=="object"&&t!=null&&t.outlets}function rm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=a0(t,e,n);let a=r0(i0(o));return new Gn(a,s,i)}function a0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=a0(s,e,n)}),new Ee(t.segments,r)}var Yl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ql(r[0]))throw new H(4003,!1);let i=r.find(ka);if(i&&i!==Yb(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yl(n,e,r)}var qs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function aF(t,e,n){if(t.isAbsolute)return new qs(e,!0,0);if(!n)return new qs(e,!1,NaN);if(n.parent===null)return new qs(n,!0,0);let r=Ql(t.commands[0])?0:1,i=n.segments.length-1+r;return cF(n,i,t.numberOfDoubleDots)}function cF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new qs(r,!1,i-s)}function uF(t){return ka(t[0])?t[0].outlets:{[ie]:t}}function c0(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Na(t,e,n);let r=lF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new Ee(t.segments.slice(r.pathIndex),t.children),Na(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?lm(t,e,n):r.match?Na(t,0,i):lm(t,e,n)}function Na(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=uF(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=Na(t.children[ie],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=c0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function lF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ka(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!$b(u,l,o))return s;r+=2}else{if(!$b(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ka(s)){let u=dF(s.outlets);return new Ee(r,u)}if(i===0&&Ql(n[0])){let u=t.segments[e];r.push(new Ri(u.path,Bb(n[0]))),i++;continue}let o=ka(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ql(a)?(r.push(new Ri(o,Bb(a))),i+=2):(r.push(new Ri(o,{})),i++)}return new Ee(r,{})}function dF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lm(new Ee([],{}),0,r))}),e}function Bb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $b(t,e,n){return t==n.path&&yn(e,n.parameters)}var Pa="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Gt=class{constructor(e,n){this.id=e,this.url=n}},Ys=class extends Gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends Gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kt||{}),Zl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zl||{}),qn=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Fa=class extends Gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jl=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hm=class extends Gt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fm=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pm=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mm=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ym=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Im=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},La=class{},Zs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function hF(t,e){return t.providers&&!t._injector&&(t._injector=Nl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xt(t){return t.outlet||ie}function fF(t,e){let n=t.filter(r=>Xt(r)===e);return n.push(...t.filter(r=>Xt(r)!==e)),n}function qa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wm=class{get injector(){return qa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ga(this.rootInjector),this.attachRef=null}},Ga=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new wm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Z(Mt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ed=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Em(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Em(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Dm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dm(e,this._root).map(n=>n.value)}};function Em(t,e){if(t===e.value)return e;for(let n of e.children){let r=Em(t,n);if(r)return r}return null}function Dm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Dm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function zs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var td=class extends ed{constructor(e,n){super(e),this.snapshot=n,Nm(this,e)}toString(){return this.snapshot.toString()}};function u0(t){let e=pF(t),n=new Je([new Ri("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new Vr(n,r,s,o,i,ie,t,e.root);return a.snapshot=e.root,new td(new Ot(a,[]),e)}function pF(t){let e={},n={},r={},i="",s=new Gs([],e,r,i,n,ie,t,null,{});return new rd("",new Ot(s,[]))}var Vr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Ha]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&d0(i)&&(r.resolve[Ha]=i.title),r}var Gs=class{get title(){return this.data?.[Ha]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rd=class extends ed{constructor(e,n){super(n),this.url=e,Nm(this,n)}toString(){return l0(this._root)}};function Nm(t,e){e.value._routerState=t,e.children.forEach(n=>Nm(t,n))}function l0(t){let e=t.children.length>0?` { ${t.children.map(l0).join(", ")} } `:"";return`${t.value}${e}`}function im(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yn(e.params,n.params)||t.paramsSubject.next(n.params),B1(e.url,n.url)||t.urlSubject.next(n.url),yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cm(t,e){let n=yn(t.params,e.params)&&q1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Cm(t.parent,e.parent))}function d0(t){return typeof t.title=="string"||t.title===null}var Pm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=P(Ga),this.location=P(xr),this.changeDetector=P(kr),this.inputBinder=P(ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new bm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Dt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sr]});let t=e;return t})(),bm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vr?this.route:e===Ga?this.childContexts:this.parent.get(e,n)}},ad=new j(""),Hb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=aa([i.queryParams,i.params,i.data]).pipe(jt(([o,a,u],l)=>(u=k(k(k({},o),a),u),l===0?W(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=pb(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function gF(t,e,n){let r=Va(t,e._root,n?n._root:void 0);return new td(r,e)}function Va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mF(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Va(t,a)),o}}let r=yF(e.value),i=e.children.map(s=>Va(t,s));return new Ot(r,i)}}function mF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Va(t,r,i);return Va(t,r)})}function yF(t){return new Vr(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Ua=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},h0="ngNavigationCancelingError";function id(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=f0(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function f0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[h0]=!0,n.cancellationCode=e,n}function vF(t){return p0(t)&&Pi(t.url)}function p0(t){return!!t&&t[h0]}var _F=(t,e,n,r)=>se(i=>(new Tm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),im(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=zs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=zs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Im(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(im(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),im(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ws=class{constructor(e,n){this.component=e,this.route=n}};function IF(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function wF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function eo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qE(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=zs(e);return t.children.forEach(o=>{EF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,n.getContext(o),i)),i}function EF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=DF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xa(t,e,a?a.children:null,r,i):xa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ws(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new sd(r)),s.component?xa(t,null,a?a.children:null,r,i):xa(t,null,n,r,i);return i}function DF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ni(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(t.url,e.url)||!yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cm(t,e)||!yn(t.queryParams,e.queryParams);case"paramsChange":default:return!Cm(t,e)}}function Oa(t,e,n){let r=zs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),n):Oa(o,null,n):Oa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ws(e.outlet.component,i)):n.canDeactivateChecks.push(new Ws(null,i)):n.canDeactivateChecks.push(new Ws(null,i))}function Wa(t){return typeof t=="function"}function CF(t){return typeof t=="boolean"}function bF(t){return t&&Wa(t.canLoad)}function TF(t){return t&&Wa(t.canActivate)}function SF(t){return t&&Wa(t.canActivateChild)}function AF(t){return t&&Wa(t.canDeactivate)}function MF(t){return t&&Wa(t.canMatch)}function g0(t){return t instanceof Rn||t?.name==="EmptyError"}var ql=Symbol("INITIAL_VALUE");function Js(){return jt(t=>aa(t.map(e=>e.pipe(Nn(1),Fu(ql)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===ql)return ql;if(n===!1||xF(n))return n}return!0}),At(e=>e!==ql),Nn(1)))}function xF(t){return Pi(t)||t instanceof Ua}function RF(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(ue(k({},n),{guardsResult:!0})):NF(o,r,i,t).pipe(Ve(a=>a&&CF(a)?PF(r,s,t,e):W(a)),se(a=>ue(k({},n),{guardsResult:a})))})}function NF(t,e,n,r){return Me(t).pipe(Ve(i=>VF(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function PF(t,e,n,r){return Me(e).pipe(ui(i=>vs(kF(i.route.parent,r),OF(i.route,r),LF(t,i.path,n),FF(t,i.route,n))),on(i=>i!==!0,!0))}function OF(t,e){return t!==null&&e&&e(new _m(t)),W(!0)}function kF(t,e){return t!==null&&e&&e(new ym(t)),W(!0)}function FF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Pu(()=>{let o=qa(e)??n,a=eo(s,o),u=TF(a)?a.canActivate(e,t):gn(o,()=>a(e,t));return Ur(u).pipe(on())}));return W(i).pipe(Js())}function LF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>wF(o)).filter(o=>o!==null).map(o=>Pu(()=>{let a=o.guards.map(u=>{let l=qa(o.node)??n,h=eo(u,l),p=SF(h)?h.canActivateChild(r,t):gn(l,()=>h(r,t));return Ur(p).pipe(on())});return W(a).pipe(Js())}));return W(s).pipe(Js())}function VF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=qa(e)??i,l=eo(a,u),h=AF(l)?l.canDeactivate(t,e,n,r):gn(u,()=>l(t,e,n,r));return Ur(h).pipe(on())});return W(o).pipe(Js())}function UF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=eo(o,t),u=bF(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return Ur(u)});return W(s).pipe(Js(),m0(r))}function m0(t){return pu(He(e=>{if(typeof e!="boolean")throw id(t,e)}),se(e=>e===!0))}function jF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=eo(o,t),u=MF(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return Ur(u)});return W(s).pipe(Js(),m0(r))}var ja=class{constructor(e){this.segmentGroup=e||null}},Ba=class extends Error{constructor(e){super(),this.urlTree=e}};function Hs(t){return ys(new ja(t))}function BF(t){return ys(new H(4e3,!1))}function $F(t){return ys(f0(!1,kt.GuardRejected))}var Sm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ie])return BF(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:R}=i,M=gn(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(M instanceof Gn)throw new Ba(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ba(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HF(t,e,n,r,i){let s=y0(t,e,n);return s.matched?(r=hF(e,r),jF(r,e,n,i).pipe(se(o=>o===!0?s:k({},Am)))):W(s)}function y0(t,e,n){if(e.path==="**")return zF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Am):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||j1)(n,t,e);if(!i)return k({},Am);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function zF(t){return{matched:!0,parameters:t.length>0?Yb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zb(t,e,n,r){return n.length>0&&WF(t,n,r)?{segmentGroup:new Ee(e,GF(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&KF(t,n,r)?{segmentGroup:new Ee(t.segments,qF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function qF(t,e,n,r){let i={};for(let s of n)if(cd(t,e,s)&&!r[Xt(s)]){let o=new Ee([],{});i[Xt(s)]=o}return k(k({},r),i)}function GF(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Xt(r)!==ie){let i=new Ee([],{});n[Xt(r)]=i}return n}function WF(t,e,n){return n.some(r=>cd(t,e,r)&&Xt(r)!==ie)}function KF(t,e,n){return n.some(r=>cd(t,e,r))}function cd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QF(t,e,n){return e.length===0&&!t.children[n]}var Mm=class{};function YF(t,e,n,r,i,s,o="emptyOnly"){return new xm(t,e,n,r,i,o,s).recognize()}var ZF=31,xm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=zb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),s=new rd("",i),o=sF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Gs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(se(r=>({children:r,rootSnapshot:n})),gr(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(se(o=>o instanceof Ot?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Me(s).pipe(ui(o=>{let a=r.children[o],u=fF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),ku((o,a)=>(o.push(...a),o)),mr(null),kf(),Ve(o=>{if(o===null)return Hs(r);let a=v0(o);return JF(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return Me(n).pipe(ui(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(gr(l=>{if(l instanceof ja)return W(null);throw l}))),on(u=>!!u),gr(u=>{if(g0(u))return QF(r,i,s)?W(new Mm):Hs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Xt(r)!==o&&(o===ie||!cd(i,s,r))?Hs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Hs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=y0(n,i,s);if(!u)return Hs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZF&&(this.allowRedirects=!1));let v=new Gs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,qb(i),Xt(i),i.component??i._loadedComponent??null,i,Gb(i)),S=nd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Ve(M=>this.processSegment(e,r,n,M.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=HF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new Gs(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,qb(r),Xt(r),r.component??r._loadedComponent??null,r,Gb(r)),R=nd(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:M,slicedSegments:F}=zb(n,m,v,l);if(F.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(se(q=>new Ot(S,q)));if(l.length===0&&F.length===0)return W(new Ot(S,[]));let $=Xt(r)===s;return this.processSegment(h,l,M,F,$?ie:s,!0,S).pipe(se(q=>new Ot(S,q instanceof Ot?[q]:[])))}))):Hs(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):UF(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(He(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):$F(n))):W({routes:[],injector:e})}};function JF(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function XF(t){let e=t.value.routeConfig;return e&&e.path===""}function v0(t){let e=[],n=new Set;for(let r of t){if(!XF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=v0(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function qb(t){return t.data||{}}function Gb(t){return t.resolve||{}}function eL(t,e,n,r,i,s){return Ve(o=>YF(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:u})=>ue(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function tL(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of _0(u))o.add(l);let a=0;return Me(o).pipe(ui(u=>s.has(u)?nL(u,r,t,e):(u.data=nd(u,u.parent,t).resolve,W(void 0))),He(()=>a++),_s(1),Ve(u=>a===o.size?W(n):St))})}function _0(t){let e=t.children.map(n=>_0(n)).flat();return[t,...e]}function nL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!d0(i)&&(s[Ha]=i.title),rL(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=nd(t,t.parent,n).resolve,null)))}function rL(t,e,n,r){let i=am(t);if(i.length===0)return W({});let s={};return Me(i).pipe(Ve(o=>iL(t[o],e,n,r).pipe(on(),He(a=>{if(a instanceof Ua)throw id(new Qs,a);s[o]=a}))),_s(1),Of(s),gr(o=>g0(o)?St:ys(o)))}function iL(t,e,n,r){let i=qa(e)??r,s=eo(t,i),o=s.resolve?s.resolve(e,n):gn(i,()=>s(e,n));return Ur(o)}function sm(t){return jt(e=>{let n=t(e);return n?Me(n).pipe(se(()=>e)):W(e)})}var I0=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[Ha]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(sL),providedIn:"root"});let t=e;return t})(),sL=(()=>{let e=class e extends I0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Z(Vb))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ka=new j("",{providedIn:"root",factory:()=>({})}),oL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=at({type:e,selectors:[["ng-component"]],standalone:!0,features:[lt],decls:1,vars:0,template:function(i,s){i&1&&Se(0,"router-outlet")},dependencies:[Pm],encapsulation:2});let t=e;return t})();function Om(t){let e=t.children&&t.children.map(Om),n=e?ue(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=oL),n}var $a=new j(""),km=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Vl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ur(r.loadComponent()).pipe(se(w0),He(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ca(()=>{this.componentLoaders.delete(r)})),s=new fs(i,()=>new We).pipe(hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=aL(i,this.compiler,r,this.onLoadEndListener).pipe(ca(()=>{this.childrenLoaders.delete(i)})),a=new fs(o,()=>new We).pipe(hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aL(t,e,n,r){return Ur(t.loadChildren()).pipe(se(w0),Ve(i=>i instanceof ga||Array.isArray(i)?W(i):Me(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($a,[],{optional:!0,self:!0}).flat()),{routes:o.map(Om),injector:s}}))}function cL(t){return t&&typeof t=="object"&&"default"in t}function w0(t){return cL(t)?t.default:t}var Fm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(uL),providedIn:"root"});let t=e;return t})(),uL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E0=new j(""),D0=new j("");function lL(t,e,n){let r=t.get(D0),i=t.get(It);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),dL(t))),{onViewTransitionCreated:u}=r;return u&&gn(t,()=>u({transition:a,from:e,to:n})),o})}function dL(t){return new Promise(e=>{Og({read:()=>setTimeout(e)},{injector:t})})}var hL=new j(""),Lm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=P(km),this.environmentInjector=P(Mt),this.urlSerializer=P(za),this.rootContexts=P(Ga),this.location=P($s),this.inputBindingEnabled=P(ad,{optional:!0})!==null,this.titleStrategy=P(I0),this.options=P(Ka,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Fm),this.createViewTransition=P(E0,{optional:!0}),this.navigationErrorHandler=P(hL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let r=s=>this.events.next(new gm(s)),i=s=>this.events.next(new mm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),se(o=>ue(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jt(o=>{let a=!1,u=!1;return W(o).pipe(jt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),St;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Lr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Zl.IgnoredSameUrlNavigation)),l.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(jt(m=>{let v=this.transitions?.getValue();return this.events.next(new Ys(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?St:Promise.resolve(m)}),eL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),He(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Jl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:R,extras:M}=l,F=new Ys(m,this.urlSerializer.serialize(v),S,R);this.events.next(F);let $=u0(this.rootComponentType).snapshot;return this.currentTransition=o=ue(k({},l),{targetSnapshot:$,urlAfterRedirects:v,extras:ue(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,W(o)}else{let m="";return this.events.next(new Lr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Zl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),St}}),He(l=>{let h=new dm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),se(l=>(this.currentTransition=o=ue(k({},l),{guards:IF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),RF(this.environmentInjector,l=>this.events.next(l)),He(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw id(this.urlSerializer,l.guardsResult);let h=new hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),At(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",kt.GuardRejected),!1)),sm(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(He(h=>{let p=new fm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),jt(h=>{let p=!1;return W(h).pipe(tL(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",kt.NoDataFromResolver)}}))}),He(h=>{let p=new pm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),sm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(He(v=>{p.component=v}),se(()=>{})));for(let v of p.children)m.push(...h(v));return m};return aa(h(l.targetSnapshot.root)).pipe(mr(null),Nn(1))}),sm(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Me(p).pipe(se(()=>o)):W(o)}),se(l=>{let h=gF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(k({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),He(()=>{this.events.next(new La)}),_F(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Nn(1),He({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ff(this.transitionAbortSubject.pipe(He(l=>{throw l}))),ca(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(l=>{if(u=!0,p0(l))this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),vF(l)?this.events.next(new Zs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Fa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=gn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Ua){let{message:m,cancellationCode:v}=id(this.urlSerializer,p);this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),m,v)),this.events.next(new Zs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return St}))}))}cancelNavigationTransition(r,i,s){let o=new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fL(t){return t!==Pa}var pL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(gL),providedIn:"root"});let t=e;return t})(),Rm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gL=(()=>{let e=class e extends Rm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ea(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>P(mL),providedIn:"root"});let t=e;return t})(),mL=(()=>{let e=class e extends C0{constructor(){super(...arguments),this.location=P($s),this.urlSerializer=P(za),this.options=P(Ka,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Fm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=u0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ys)this.stateMemento=this.createStateMemento();else if(r instanceof Lr)this.rawUrlTree=i.initialUrl;else if(r instanceof Jl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof La?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof qn&&(r.code===kt.GuardRejected||r.code===kt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fa?this.restoreHistory(i,!0):r instanceof en&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Gn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ea(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ra=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ra||{});function b0(t,e){t.events.pipe(At(n=>n instanceof en||n instanceof qn||n instanceof Fa||n instanceof Lr),se(n=>n instanceof en||n instanceof Lr?Ra.COMPLETE:(n instanceof qn?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?Ra.REDIRECTING:Ra.FAILED),At(n=>n!==Ra.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function yL(t){throw t}var vL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_L={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ct=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(kl),this.stateManager=P(C0),this.options=P(Ka,{optional:!0})||{},this.pendingTasks=P(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Lm),this.urlSerializer=P(za),this.location=P($s),this.urlHandlingStrategy=P(Fm),this._events=new We,this.errorHandler=this.options.errorHandler||yL,this.navigated=!1,this.routeReuseStrategy=P(pL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P($a,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(ad,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof qn&&i.code!==kt.Redirect&&i.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof en)this.navigated=!0;else if(i instanceof Zs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fL(s.source)},a);this.scheduleNavigation(u,Pa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=s?s.snapshot:this.routerState.snapshot.root;m=s0(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return o0(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Pi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,i)}navigate(r,i={skipLocationChange:!1}){return IL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},vL):i===!1?s=k({},_L):s=i,Pi(r))return Ub(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Ub(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return b0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function wL(t){return!(t instanceof La)&&!(t instanceof Zs)}var Xs=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:oC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(J(Ct),J(Vr),hg("tabindex"),J(Un),J(Nt),J(Hn))},e.\u0275dir=Dt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ut("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Pl("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[Pg,Sr]});let t=e;return t})(),ud=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof en&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(pr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Me(r).pipe(pr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=EL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(J(Ct),J(Nt),J(Un),J(kr),J(Xs,8))},e.\u0275dir=Dt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&XC(o,Xs,5),i&2){let a;eb(a=tb())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sr]});let t=e;return t})();function EL(t){return!!t.paths}var od=class{};var DL=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(At(r=>r instanceof en),ui(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Nl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Me(s).pipe(pr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=W(null);let o=s.pipe(Ve(a=>a===null?W(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Me([o,a]).pipe(pr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(Z(Ct),Z(Vl),Z(Mt),Z(od),Z(km))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T0=new j(""),CL=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof en?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Lr&&r.code===Zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){vC()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function S0(t,...e){return pn([{provide:$a,multi:!0,useValue:t},[],{provide:Vr,useFactory:A0,deps:[Ct]},{provide:Ll,multi:!0,useFactory:M0},e.map(n=>n.\u0275providers)])}function A0(t){return t.routerState.root}function Qa(t,e){return{\u0275kind:t,\u0275providers:e}}function M0(){let t=P(Xe);return e=>{let n=t.get(Mi);if(e!==n.components[0])return;let r=t.get(Ct),i=t.get(x0);t.get(Vm)===1&&r.initialNavigation(),t.get(R0,null,oe.Optional)?.setUpPreloading(),t.get(T0,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var x0=new j("",{factory:()=>new We}),Vm=new j("",{providedIn:"root",factory:()=>1});function bL(){return Qa(2,[{provide:Vm,useValue:0},{provide:Fl,multi:!0,deps:[Xe],useFactory:e=>{let n=e.get(Eb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Ct),s=e.get(x0);b0(i,()=>{r(!0)}),e.get(Lm).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function TL(){return Qa(3,[{provide:Fl,multi:!0,useFactory:()=>{let e=P(Ct);return()=>{e.setUpLocationChangeListener()}}},{provide:Vm,useValue:2}])}var R0=new j("");function SL(t){return Qa(0,[{provide:R0,useExisting:DL},{provide:od,useExisting:t}])}function AL(){return Qa(8,[Hb,{provide:ad,useExisting:Hb}])}function ML(t){let e=[{provide:E0,useValue:lL},{provide:D0,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qa(9,e)}var Wb=new j("ROUTER_FORROOT_GUARD"),xL=[$s,{provide:za,useClass:Qs},Ct,Ga,{provide:Vr,useFactory:A0,deps:[Ct]},km,[]],to=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[xL,[],{provide:$a,multi:!0,useValue:r},{provide:Wb,useFactory:OL,deps:[[Ct,new ot,new Yp]]},{provide:Ka,useValue:i||{}},i?.useHash?NL():PL(),RL(),i?.preloadingStrategy?SL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kL(i):[],i?.bindToComponentInputs?AL().\u0275providers:[],i?.enableViewTransitions?ML().\u0275providers:[],FL()]}}static forChild(r){return{ngModule:e,providers:[{provide:$a,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(Z(Wb,8))},e.\u0275mod=Tr({type:e}),e.\u0275inj=br({});let t=e;return t})();function RL(){return{provide:T0,useFactory:()=>{let t=P(Mb),e=P(Ie),n=P(Ka),r=P(Lm),i=P(za);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CL(i,r,t,e,n)}}}function NL(){return{provide:Hn,useClass:Cb}}function PL(){return{provide:Hn,useClass:Gg}}function OL(t){return"guarded"}function kL(t){return[t.initialNavigation==="disabled"?TL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?bL().\u0275providers:[]]}var Kb=new j("");function FL(){return[{provide:Kb,useFactory:M0},{provide:Ll,multi:!0,useExisting:Kb}]}var N0={projectId:"salajuegos-aa70a",appId:"1:111718902849:web:72d7220f676705936f6ac0",storageBucket:"salajuegos-aa70a.appspot.com",apiKey:"AIzaSyApSt0GAwFsnafao68eO2eRRq31EeUgLEY",authDomain:"salajuegos-aa70a.firebaseapp.com",messagingSenderId:"111718902849"};var j0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(J(Un),J(Nt))},e.\u0275dir=Dt({type:e});let t=e;return t})(),LL=(()=>{let e=class e extends j0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ea(e)))(s||e)}})(),e.\u0275dir=Dt({type:e,features:[Bs]});let t=e;return t})(),B0=new j("");var VL={provide:B0,useExisting:va(()=>so),multi:!0};function UL(){let t=$n()?$n().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var jL=new j(""),so=(()=>{let e=class e extends j0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!UL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(J(Un),J(Nt),J(jL,8))},e.\u0275dir=Dt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ut("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[kg([VL]),Bs]});let t=e;return t})();var BL=new j(""),$L=new j("");function $0(t){return t!=null}function H0(t){return Ai(t)?Me(t):t}function z0(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function q0(t,e){return e.map(n=>n(t))}function HL(t){return!t.validate}function G0(t){return t.map(e=>HL(e)?e:n=>e.validate(n))}function zL(t){if(!t)return null;let e=t.filter($0);return e.length==0?null:function(n){return z0(q0(n,e))}}function W0(t){return t!=null?zL(G0(t)):null}function qL(t){if(!t)return null;let e=t.filter($0);return e.length==0?null:function(n){let r=q0(n,e).map(H0);return Pf(r).pipe(se(z0))}}function K0(t){return t!=null?qL(G0(t)):null}function P0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function GL(t){return t._rawValidators}function WL(t){return t._rawAsyncValidators}function jm(t){return t?Array.isArray(t)?t:[t]:[]}function dd(t,e){return Array.isArray(t)?t.includes(e):t===e}function O0(t,e){let n=jm(e);return jm(t).forEach(i=>{dd(n,i)||n.push(i)}),n}function k0(t,e){return jm(e).filter(n=>!dd(t,n))}var hd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bm=class extends hd{get formDirective(){return null}get path(){return null}},ec=class extends hd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$m=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_6=ue(k({},KL),{"[class.ng-submitted]":"isSubmitted"}),pd=(()=>{let e=class e extends $m{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(J(ec,2))},e.\u0275dir=Dt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ca("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Bs]});let t=e;return t})();var Ya="VALID",ld="INVALID",no="PENDING",Za="DISABLED",io=class{},fd=class extends io{constructor(e,n){super(),this.value=e,this.source=n}},Ja=class extends io{constructor(e,n){super(),this.pristine=e,this.source=n}},Xa=class extends io{constructor(e,n){super(),this.touched=e,this.source=n}},ro=class extends io{constructor(e,n){super(),this.status=e,this.source=n}};function QL(t){return(gd(t)?t.validators:t)||null}function YL(t){return Array.isArray(t)?W0(t):t||null}function ZL(t,e){return(gd(e)?e.asyncValidators:t)||null}function JL(t){return Array.isArray(t)?K0(t):t||null}function gd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Hm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ul(()=>this.statusReactive()),this.statusReactive=Rl(void 0),this._pristine=Ul(()=>this.pristineReactive()),this.pristineReactive=Rl(!0),this._touched=Ul(()=>this.touchedReactive()),this.touchedReactive=Rl(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fr(this.statusReactive)}set status(e){Fr(()=>this.statusReactive.set(e))}get valid(){return this.status===Ya}get invalid(){return this.status===ld}get pending(){return this.status==no}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}get pristine(){return Fr(this.pristineReactive)}set pristine(e){Fr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Fr(this.touchedReactive)}set touched(e){Fr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(O0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(O0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(k0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(k0(e,this._rawAsyncValidators))}hasValidator(e){return dd(this._rawValidators,e)}hasAsyncValidator(e){return dd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAsPending(e={}){this.status=no;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ro(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Za,this.errors=null,this._forEachChild(i=>{i.disable(ue(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fd(this.value,r)),this._events.next(new ro(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ya,this._forEachChild(r=>{r.enable(ue(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ya||this.status===no)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fd(this.value,n)),this._events.next(new ro(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=H0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ro(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?ld:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(ld)?ld:Ya}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ja(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Xa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=YL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=JL(this._rawAsyncValidators)}};var Q0=new j("CallSetDisabledState",{providedIn:"root",factory:()=>zm}),zm="always";function XL(t,e){return[...e.path,t]}function eV(t,e,n=zm){nV(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),rV(t,e),sV(t,e),iV(t,e),tV(t,e)}function F0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function nV(t,e){let n=GL(t);e.validator!==null?t.setValidators(P0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=WL(t);e.asyncValidator!==null?t.setAsyncValidators(P0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();F0(e._rawValidators,i),F0(e._rawAsyncValidators,i)}function rV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Y0(t,e)})}function iV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Y0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Y0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function aV(t){return Object.getPrototypeOf(t.constructor)===LL}function cV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===so?n=s:aV(s)?r=s:i=s}),i||r||n||null}function L0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function V0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uV=class extends Hm{constructor(e=null,n,r){super(QL(n),ZL(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(V0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){L0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){L0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){V0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lV={provide:ec,useExisting:va(()=>tc)},U0=Promise.resolve(),tc=(()=>{let e=class e extends ec{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new uV,this._registered=!1,this.name="",this.update=new Fe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=cV(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),oV(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eV(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){U0.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&xi(i);U0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?XL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(J(Bm,9),J(BL,10),J($L,10),J(B0,10),J(kr,8),J(Q0,8))},e.\u0275dir=Dt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kg([lV]),Bs,Sr]});let t=e;return t})();var dV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tr({type:e}),e.\u0275inj=br({});let t=e;return t})();var md=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Q0,useValue:r.callSetDisabledState??zm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Tr({type:e}),e.\u0275inj=br({imports:[dV]});let t=e;return t})();var X0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Gm;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fV=function(t){let e=X0(t);return eT.encodeByteArray(e,!0)},nc=function(t){return fV(t).replace(/\./g,"")},Km=function(t){try{return eT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gV=()=>pV().__FIREBASE_DEFAULTS__,mV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Km(t[1]);return e&&JSON.parse(e)},vd=()=>{try{return gV()||mV()||yV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qm=t=>{var e,n;return(n=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tT=t=>{let e=Qm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ym=()=>{var t;return(t=vd())===null||t===void 0?void 0:t.config},Zm=t=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${t}`]};var yd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function nT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nc(JSON.stringify(n)),nc(JSON.stringify(o)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function vV(){var t;let e=(t=vd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oT(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aT(){return!vV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jm(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _V="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_V,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wn.prototype.create)}},Wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function IV(t,e){return t.replace(wV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wV=/\{\$([^}]+)}/g;function uT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(J0(s)&&J0(o)){if(!Oi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function J0(t){return t!==null&&typeof t=="object"}function rc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ao(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lT(t,e){let n=new Wm(t,e);return n.subscribe.bind(n)}var Wm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qm),i.error===void 0&&(i.error=qm),i.complete===void 0&&(i.complete=qm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qm(){}var E6=4*60*60*1e3;function dt(t){return t&&t._delegate?t._delegate:t}var Wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ki="[DEFAULT]";var Xm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CV(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DV(t){return t===ki?void 0:t}function CV(t){return t.instantiationMode==="EAGER"}var _d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Xm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bV=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),TV={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},SV=he.INFO,AV={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jr=class{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=MV,this._userLogHandler=null,bV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var xV=(t,e)=>e.some(n=>t instanceof n),dT,hT;function RV(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NV(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fT=new WeakMap,ty=new WeakMap,pT=new WeakMap,ey=new WeakMap,ry=new WeakMap;function PV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fT.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function OV(t){if(ty.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ty.set(t,e)}var ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gT(t){ny=t(ny)}function kV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Id(this),e,...n);return pT.set(r,e.sort?e.sort():[e]),vn(r)}:NV().includes(t)?function(...e){return t.apply(Id(this),e),vn(fT.get(this))}:function(...e){return vn(t.apply(Id(this),e))}}function FV(t){return typeof t=="function"?kV(t):(t instanceof IDBTransaction&&OV(t),xV(t,RV())?new Proxy(t,ny):t)}function vn(t){if(t instanceof IDBRequest)return PV(t);if(ey.has(t))return ey.get(t);let e=FV(t);return e!==t&&(ey.set(t,e),ry.set(e,t)),e}var Id=t=>ry.get(t);function yT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=vn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vn(o.result),u.oldVersion,u.newVersion,vn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LV=["get","getKey","getAll","getAllKeys","count"],VV=["put","add","delete","clear"],iy=new Map;function mT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LV.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return iy.set(e,s),s}gT(t=>ue(k({},t),{get:(e,n,r)=>mT(e,n)||t.get(e,n,r),has:(e,n)=>!!mT(e,n)||t.has(e,n)}));var oy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UV(t){let e=t.getComponent();return e?.type==="VERSION"}var ay="@firebase/app",vT="0.10.10";var Kn=new jr("@firebase/app"),jV="@firebase/app-compat",BV="@firebase/analytics-compat",$V="@firebase/analytics",HV="@firebase/app-check-compat",zV="@firebase/app-check",qV="@firebase/auth",GV="@firebase/auth-compat",WV="@firebase/database",KV="@firebase/database-compat",QV="@firebase/functions",YV="@firebase/functions-compat",ZV="@firebase/installations",JV="@firebase/installations-compat",XV="@firebase/messaging",eU="@firebase/messaging-compat",tU="@firebase/performance",nU="@firebase/performance-compat",rU="@firebase/remote-config",iU="@firebase/remote-config-compat",sU="@firebase/storage",oU="@firebase/storage-compat",aU="@firebase/firestore",cU="@firebase/vertexai-preview",uU="@firebase/firestore-compat",lU="firebase",dU="10.13.1";var cy="[DEFAULT]",hU={[ay]:"fire-core",[jV]:"fire-core-compat",[$V]:"fire-analytics",[BV]:"fire-analytics-compat",[zV]:"fire-app-check",[HV]:"fire-app-check-compat",[qV]:"fire-auth",[GV]:"fire-auth-compat",[WV]:"fire-rtdb",[KV]:"fire-rtdb-compat",[QV]:"fire-fn",[YV]:"fire-fn-compat",[ZV]:"fire-iid",[JV]:"fire-iid-compat",[XV]:"fire-fcm",[eU]:"fire-fcm-compat",[tU]:"fire-perf",[nU]:"fire-perf-compat",[rU]:"fire-rc",[iU]:"fire-rc-compat",[sU]:"fire-gcs",[oU]:"fire-gcs-compat",[aU]:"fire-fst",[uU]:"fire-fst-compat",[cU]:"fire-vertex","fire-js":"fire-js",[lU]:"fire-js-all"};var ic=new Map,fU=new Map,uy=new Map;function _T(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){let e=t.name;if(uy.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(let n of ic.values())_T(n,t);for(let n of fU.values())_T(n,t);return!0}function oc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t.settings!==void 0}var pU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Wn("app","Firebase",pU);var ly=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}};var Hr=dU;function fy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=Ym()),!n)throw Br.create("no-options");let s=ic.get(i);if(s){if(Oi(n,s.options)&&Oi(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}let o=new _d(i);for(let u of uy.values())o.addComponent(u);let a=new ly(n,r,o);return ic.set(i,a),a}function co(t=cy){let e=ic.get(t);if(!e&&t===cy&&Ym())return fy();if(!e)throw Br.create("no-app",{appName:t});return e}function wd(){return Array.from(ic.values())}function Ge(t,e,n){var r;let i=(r=hU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}$r(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gU="firebase-heartbeat-database",mU=1,sc="firebase-heartbeat-store",sy=null;function DT(){return sy||(sy=yT(gU,mU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),sy}function yU(t){return w(this,null,function*(){try{let n=(yield DT()).transaction(sc),r=yield n.objectStore(sc).get(CT(t));return yield n.done,r}catch(e){if(e instanceof Ft)Kn.warn(e.message);else{let n=Br.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(n.message)}}})}function IT(t,e){return w(this,null,function*(){try{let r=(yield DT()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,CT(t)),yield r.done}catch(n){if(n instanceof Ft)Kn.warn(n.message);else{let r=Br.create("idb-set",{originalErrorMessage:n?.message});Kn.warn(r.message)}}})}function CT(t){return`${t.name}!${t.options.appId}`}var vU=1024,_U=30*24*60*60*1e3,dy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=_U}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wT(),{heartbeatsToSend:r,unsentEntries:i}=IU(this._heartbeatsCache.heartbeats),s=nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Kn.warn(n),""}})}};function wT(){return new Date().toISOString().substring(0,10)}function IU(t,e=vU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ET(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ET(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var hy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Jm()?cT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ET(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}function wU(t){$r(new Wt("platform-logger",e=>new oy(e),"PRIVATE")),$r(new Wt("heartbeat",e=>new dy(e),"PRIVATE")),Ge(ay,vT,t),Ge(ay,vT,"esm2017"),Ge("fire-js","")}wU("");var EU="firebase",DU="10.13.1";Ge(EU,DU,"app");var Li=new Fn("ANGULARFIRE2_VERSION");function Dd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ac=(t,e)=>{let n=e?[e]:wd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},lo=class{constructor(){return ac(CU)}},CU="app-check";function uo(){}var Ed=class{zone;delegate;constructor(e,n=xf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},py=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ho=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ed(Zone.current)),this.insideAngular=n.run(()=>new Ed(Zone.current,Mf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(Ie))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bU(t){return Cd().ngZone.runOutsideAngular(()=>t())}function Fi(t){return Cd().ngZone.run(()=>t())}function TU(t){return SU(Cd())(t)}function SU(t){return function(n){return n=n.lift(new py(t.ngZone)),n.pipe(fr(t.outsideAngular),hr(t.insideAngular))}}var AU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fi(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo))),r[s]=AU(r[s],n));let i=bU(()=>t.apply(this,r));if(!e)if(i instanceof le){let s=Cd();return i.pipe(fr(s.outsideAngular),hr(s.insideAngular))}else return Fi(()=>i);return i instanceof le?i.pipe(TU):i instanceof Promise?Fi(()=>new Promise((s,o)=>i.then(a=>Fi(()=>s(a)),a=>Fi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fi(()=>i)};var Qn=class{constructor(e){return e}},Vi=class{constructor(){return wd()}};function MU(t){return t&&t.length===1?t[0]:new Qn(co())}var gy=new j("angularfire2._apps"),xU={provide:Qn,useFactory:MU,deps:[[new ot,gy]]},RU={provide:Vi,deps:[[new ot,gy]]};function NU(t){return(e,n)=>{let r=n.get(mn);Ge("angularfire",Li.full,"core"),Ge("angularfire",Li.full,"app"),Ge("angular",ib.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qn(i)}}function bT(t,...e){return pn([xU,RU,{provide:gy,useFactory:NU(t),multi:!0,deps:[Ie,Xe,ho,...e]}])}var TT=Lt(fy,!0);function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zT=HT,qT=new Wn("auth","Firebase",HT());var xd=new jr("@firebase/auth");function PU(t,...e){xd.logLevel<=he.WARN&&xd.warn(`Auth (${Hr}): ${t}`,...e)}function Td(t,...e){xd.logLevel<=he.ERROR&&xd.error(`Auth (${Hr}): ${t}`,...e)}function In(t,...e){throw Vy(t,...e)}function Ui(t,...e){return Vy(t,...e)}function GT(t,e,n){let r=Object.assign(Object.assign({},zT()),{[e]:n});return new Wn("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return GT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qT.create(t,...e)}function K(t,e,...n){if(!t)throw Vy(e,...n)}function Yn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function qr(t,e){t||Yn(e)}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OU(){return ST()==="http:"||ST()==="https:"}function ST(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function kU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OU()||iT()||"connection"in navigator)?navigator.onLine:!0}function FU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=rT()||sT()}get(){return kU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Uy(t,e){qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Rd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VU=new ji(3e4,6e4);function Gr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Wr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return WT(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=rc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Rd.fetch()(KT(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function WT(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},LU),e);try{let i=new Iy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GT(t,h,l);In(t,h)}}catch(i){if(i instanceof Ft)throw i;In(t,"network-request-failed",{message:String(i)})}})}function gc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Wr(t,e,n,r,i);return"mfaPendingCredential"in l&&In(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Uy(t.config,i):`${t.config.apiScheme}://${i}`}function UU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Iy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),VU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ui(t,e,r);return i.customData._tokenResponse=n,i}function AT(t){return t!==void 0&&t.enterprise!==void 0}var wy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jU(t,e){return w(this,null,function*(){return Wr(t,"GET","/v2/recaptchaConfig",Gr(t,e))})}function BU(t,e){return w(this,null,function*(){return Wr(t,"POST","/v1/accounts:delete",e)})}function QT(t,e){return w(this,null,function*(){return Wr(t,"POST","/v1/accounts:lookup",e)})}function cc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jy(t,e=!1){return w(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=By(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:cc(my(i.auth_time)),issuedAtTime:cc(my(i.iat)),expirationTime:cc(my(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function my(t){return Number(t)*1e3}function By(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{let i=Km(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MT(t){let e=By(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&$U(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $U({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield lc(t,QT(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YT(s.providerUserInfo):[],a=HU(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function $y(t){return w(this,null,function*(){let e=dt(t);yield Nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YT(t){return t.map(e=>{var{providerId:n}=e,r=Rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zU(t,e){return w(this,null,function*(){let n=yield WT(t,{},()=>w(this,null,function*(){let r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qU(t,e){return w(this,null,function*(){return Wr(t,"POST","/v2/accounts:revokeToken",Gr(t,e))})}var uc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=MT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zU(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yn("not implemented")}};function zr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield lc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return jy(this,e)}reload(){return $y(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(tn(this.auth.app))return Promise.reject(Jn(this.auth));let e=yield this.getIdToken();return yield lc(this,BU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ce,isAnonymous:Ne,providerData:ee,stsTokenManager:D}=n;K(q&&D,e,"internal-error");let y=uc.fromJSON(this.name,D);K(typeof q=="string",e,"internal-error"),zr(p,e.name),zr(m,e.name),K(typeof ce=="boolean",e,"internal-error"),K(typeof Ne=="boolean",e,"internal-error"),zr(v,e.name),zr(S,e.name),zr(R,e.name),zr(M,e.name),zr(F,e.name),zr($,e.name);let _=new t({uid:q,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Ne,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:F,lastLoginAt:$});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(E=>Object.assign({},E))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new uc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?YT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new uc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var xT=new Map;function Zn(t){qr(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}var GU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Dy=GU;function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}var Pd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Zn(Dy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Zn(Dy),o=Sd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=fo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function RT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nS(e))return"Blackberry";if(rS(e))return"Webos";if(JT(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(tS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZT(t=Qe()){return/firefox\//i.test(t)}function JT(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(t=Qe()){return/crios\//i.test(t)}function eS(t=Qe()){return/iemobile/i.test(t)}function tS(t=Qe()){return/android/i.test(t)}function nS(t=Qe()){return/blackberry/i.test(t)}function rS(t=Qe()){return/webos/i.test(t)}function Hy(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WU(t=Qe()){var e;return Hy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KU(){return oT()&&document.documentMode===10}function iS(t=Qe()){return Hy(t)||tS(t)||rS(t)||nS(t)||/windows phone/i.test(t)||eS(t)}function sS(t,e=[]){let n;switch(t){case"Browser":n=RT(Qe());break;case"Worker":n=`${RT(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hr}/${r}`}var Cy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QU(n){return w(this,arguments,function*(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",Gr(t,e))})}var YU=6,by=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:YU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ty=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Od(this),this.idTokenSubscription=new Od(this),this.beforeStateQueue=new Cy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield QT(this,{idToken:e}),r=yield fo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(tn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FU()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(tn(this.app))return Promise.reject(Jn(this));let n=e?dt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return tn(this.app)?Promise.reject(Jn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tn(this.app)?Promise.reject(Jn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield QU(this),n=new by(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Pd.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&PU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $i(t){return dt(t)}var Od=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lT(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZU(t){Bd=t}function oS(t){return Bd.loadJS(t)}function JU(){return Bd.recaptchaEnterpriseScript}function XU(){return Bd.gapiScript}function aS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var ej="recaptcha-enterprise",tj="NO_RECAPTCHA",Sy=class{constructor(e){this.type=ej,this.auth=$i(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){jU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;AT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(tj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JU();u.length!==0&&(u+=a),oS(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function NT(t,e,n,r=!1){return w(this,null,function*(){let i=new Sy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ay(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield NT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield NT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function zy(t,e){let n=oc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Oi(s,e??{}))return i;In(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function qy(t,e,n){let r=$i(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cS(e),{host:o,port:a}=rj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ij()}function cS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rj(t){let e=cS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:PT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:PT(o)}}}function PT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function ij(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}};function sj(t,e){return w(this,null,function*(){return Wr(t,"POST","/v1/accounts:signUp",e)})}function oj(t,e){return w(this,null,function*(){return gc(t,"POST","/v1/accounts:signInWithPassword",Gr(t,e))})}function aj(t,e){return w(this,null,function*(){return gc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}function cj(t,e){return w(this,null,function*(){return gc(t,"POST","/v1/accounts:signInWithEmailLink",Gr(t,e))})}var fc=class t extends hc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,n,"signInWithPassword",oj);case"emailLink":return aj(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,r,"signUpPassword",sj);case"emailLink":return cj(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yy(t,e){return w(this,null,function*(){return gc(t,"POST","/v1/accounts:signInWithIdp",Gr(t,e))})}function uj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lj(t){let e=oo(ao(t)).link,n=e?oo(ao(e)).deep_link_id:null,r=oo(ao(t)).deep_link_id;return(r?oo(ao(r)).link:null)||r||n||e||t}var kd=class t{constructor(e){var n,r,i,s,o,a;let u=oo(ao(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=uj((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=lj(e);try{return new t(n)}catch{return null}}};var uS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return fc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=kd.parseLink(r);return K(i,"argument-error"),fc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Fd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var My=class extends Fd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function dj(t,e){return w(this,null,function*(){return gc(t,"POST","/v1/accounts:signUp",Gr(t,e))})}var po=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield fo._fromIdTokenResponse(e,r,i),o=OT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=OT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function OT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var xy=class t extends Ft{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xy._fromErrorAndOperation(t,s,e,r):s})}function hj(t,e,n=!1){return w(this,null,function*(){let r=yield lc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return po._forOperation(t,"link",r)})}function fj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(tn(r.app))return Promise.reject(Jn(r));let i="reauthenticate";try{let s=yield lc(t,lS(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=By(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),po._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&In(r,"user-mismatch"),s}})}function dS(t,e,n=!1){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r="signIn",i=yield lS(t,r,e),s=yield po._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Gy(t,e){return w(this,null,function*(){return dS($i(t),e)})}function hS(t){return w(this,null,function*(){let e=$i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wy(t,e,n){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r=$i(t),o=yield Ay(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hS(t),u}),a=yield po._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ky(t,e,n){return tn(t.app)?Promise.reject(Jn(t)):Gy(dt(t),uS.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hS(t),r}))}function Qy(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function Yy(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}var Ld="__sak";var Vd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pj=1e3,gj=10,mj=(()=>{class t extends Vd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);KU()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,gj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield lr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield lr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield lr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fS=mj;var yj=(()=>{class t extends Vd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Zy=yj;function vj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _j=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield vj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ry=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=pS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function _n(){return window}function Ij(t){_n().location.href=t}function gS(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}function wj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Ej(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Dj(){return gS()?self:null}var mS="firebaseLocalStorageDb",Cj=1,Ud="firebaseLocalStorage",yS="fbase_key",Bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $d(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function bj(){let t=indexedDB.deleteDatabase(mS);return new Bi(t).toPromise()}function Ny(){let t=indexedDB.open(mS,Cj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ud,{keyPath:yS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),yield bj(),e(yield Ny()))}))})}function kT(t,e,n){return w(this,null,function*(){let r=$d(t,!0).put({[yS]:e,value:n});return new Bi(r).toPromise()})}function Tj(t,e){return w(this,null,function*(){let n=$d(t,!1).get(e),r=yield new Bi(n).toPromise();return r===void 0?null:r.value})}function FT(t,e){let n=$d(t,!0).delete(e);return new Bi(n).toPromise()}var Sj=800,Aj=3,Mj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Ny(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Aj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return gS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=_j._getInstance(Dj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield wj(),!this.activeServiceWorker)return;this.sender=new Ry(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Ej()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ny();return yield kT(n,Ld,"1"),yield FT(n,Ld),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>kT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>Tj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>FT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=$d(s,!1).getAll();return new Bi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vS=Mj;var g5=aS("rcb"),m5=new ji(3e4,6e4);function xj(t,e){return e?Zn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var pc=class extends hc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Rj(t){return dS(t.auth,new pc(t),t.bypassAuthState)}function Nj(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),fj(n,new pc(t),t.bypassAuthState)}function Pj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),hj(n,new pc(t),t.bypassAuthState)})}var Py=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rj;case"linkViaPopup":case"linkViaRedirect":return Pj;case"reauthViaPopup":case"reauthViaRedirect":return Nj;default:In(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var y5=new ji(2e3,1e4);var Oj="pendingRedirect",Ad=new Map,Oy=class t extends Py{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Ad.get(this.auth._key());if(!e){try{let r=(yield kj(this.resolver,this.auth))?yield lr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return lr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,lr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function kj(t,e){return w(this,null,function*(){let n=Vj(e),r=Lj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Fj(t,e){Ad.set(t._key(),e)}function Lj(t){return Zn(t._redirectPersistence)}function Vj(t){return Sd(Oj,t.config.apiKey,t.name)}function Uj(t,e,n=!1){return w(this,null,function*(){if(tn(t.app))return Promise.reject(Jn(t));let r=$i(t),i=xj(r,e),o=yield new Oy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var jj=10*60*1e3,ky=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_S(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jj&&this.cachedEventUids.clear(),this.cachedEventUids.has(LT(e))}saveEventToCache(e){this.cachedEventUids.add(LT(e)),this.lastProcessedEventTime=Date.now()}};function LT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _S({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _S(t);default:return!1}}function $j(n){return w(this,arguments,function*(t,e={}){return Wr(t,"GET","/v1/projects",e)})}var Hj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zj=/^https?/;function qj(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $j(t);for(let n of e)try{if(Gj(n))return}catch{}In(t,"unauthorized-domain")})}function Gj(t){let e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zj.test(n))return!1;if(Hj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Wj=new ji(3e4,6e4);function VT(){let t=_n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Kj(t){return new Promise((e,n)=>{var r,i,s;function o(){VT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VT(),n(Ui(t,"network-request-failed"))},timeout:Wj.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_n().gapi)===null||s===void 0)&&s.load)o();else{let a=aS("iframefcb");return _n()[a]=()=>{gapi.load?o():n(Ui(t,"network-request-failed"))},oS(`${XU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Md=null,e})}var Md=null;function Qj(t){return Md=Md||Kj(t),Md}var Yj=new ji(5e3,15e3),Zj="__/auth/iframe",Jj="emulator/auth/iframe",Xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Uy(e,Jj):`https://${t.config.authDomain}/${Zj}`,r={apiKey:e.apiKey,appName:t.name,v:Hr},i=e2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rc(r).slice(1)}`}function n2(t){return w(this,null,function*(){let e=yield Qj(t),n=_n().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:t2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xj,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ui(t,"network-request-failed"),a=_n().setTimeout(()=>{s(o)},Yj.get());function u(){_n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var r2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,o2="_blank",a2="http://localhost",jd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c2(t,e,n,r=i2,i=s2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},r2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=XT(l)?o2:n),ZT(l)&&(e=e||a2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(WU(l)&&a!=="_self")return u2(e||"",a),new jd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new jd(p)}function u2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var l2="__/auth/handler",d2="emulator/auth/handler",h2=encodeURIComponent("fac");function UT(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hr,eventId:i};if(e instanceof Fd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof My){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${h2}=${encodeURIComponent(u)}`:"";return`${f2(t)}?${rc(a).slice(1)}${l}`})}function f2({config:t}){return t.emulator?Uy(t,d2):`https://${t.authDomain}/${l2}`}var vy="webStorageSupport",Fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zy,this._completeRedirectFn=Uj,this._overrideRedirectResult=Fj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield UT(e,n,r,_y(),i);return c2(e,o,pS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield UT(e,n,r,_y(),i);return Ij(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield n2(e),r=new ky(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[vy];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iS()||JT()||Hy()}},IS=Fy;var jT="@firebase/auth",BT="1.7.8";var Ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(t){$r(new Wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(t)},l=new Ty(r,i,s,u);return nj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new Wt("auth-internal",e=>{let n=$i(e.getProvider("auth").getImmediate());return(r=>new Ly(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(jT,BT,p2(t)),Ge(jT,BT,"esm2017")}var m2=5*60,y2=Zm("authIdTokenMaxAge")||m2,$T=null,v2=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y2)return;let i=n?.token;$T!==i&&($T=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Jy(t=co()){let e=oc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=zy(t,{popupRedirectResolver:IS,persistence:[vS,fS,Zy]}),r=Zm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=v2(s.toString());Yy(n,o,()=>o(n.currentUser)),Qy(n,a=>o(a))}}let i=Qm("auth");return i&&qy(n,`http://${i}`),n}function _2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var wS="auth",Xn=class{constructor(e){return e}},mc=class{constructor(){return ac(wS)}};var Xy=new j("angularfire2.auth-instances");function lB(t,e){let n=Dd(wS,t,e);return n&&new Xn(n)}function dB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xn(r)}}var hB={provide:mc,deps:[[new ot,Xy]]},fB={provide:Xn,useFactory:lB,deps:[[new ot,Xy],Qn]};function ES(t,...e){return Ge("angularfire",Li.full,"auth"),pn([fB,hB,{provide:Xy,useFactory:dB(t),multi:!0,deps:[Ie,Xe,ho,Vi,[new ot,lo],...e]}])}var DS=Lt(Wy,!0);var CS=Lt(Jy,!0);var bS=Lt(Ky,!0);var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AS={};var Kr,ev;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)I[Sn-2]=arguments[Sn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=y+(T^_&(C^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(T^_&(C^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(C^y&(_^C))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=C+(_^T&(y^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(y^C&(T^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^T&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^T&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(T^y))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^C)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=C+(T^y^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~C))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=C+(y^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,T=0;T<y;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<y;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function s(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function o(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==y||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(y){return new o([y|0],0>y?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new o(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return M(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-M(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(R(this))return"-"+M(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=ce(_,y).g;_=F(_,C.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=F(this,D),R(D)?-1:S(D)?0:1};function M(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new o(_,~D.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(M(y))}t.j=function(D){if(S(this)||S(D))return p;if(R(this))return R(D)?M(this).j(M(D)):M(M(this).j(D));if(R(D))return M(this.j(M(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,Sn=D.i(C)>>>16,Vo=D.i(C)&65535;_[2*E+2*C]+=I*Vo,$(_,2*E+2*C),_[2*E+2*C+1]+=T*Vo,$(_,2*E+2*C+1),_[2*E+2*C+1]+=I*Sn,$(_,2*E+2*C+1),_[2*E+2*C+2]+=T*Sn,$(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function $(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function q(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new q(p,p);if(R(D))return y=ce(M(D),y),new q(M(y.g),M(y.h));if(R(y))return y=ce(D,M(y)),new q(M(y.g),y.h);if(30<D.g.length){if(R(D)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Ne(_),E=Ne(E);var C=ee(_,1),T=ee(E,1);for(E=ee(E,2),_=ee(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=ee(E,1),_=ee(_,1)}return y=F(D,C.j(y)),new q(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);R(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),C=C.add(T),D=F(D,I)}return new q(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Ne(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function ee(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ev=AS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Kr=AS.Integer=o}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var tv,nv,go,rv,yc,zd,iv,sv,ov;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[b].apply(g,O)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let O=0;O<A;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Ne=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Bh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,f){let g=Vo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Vo=new F(()=>new PM,c=>c.reset());class PM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Uo,jo=!1,Bh=new Sn,mI=()=>{let c=a.Promise.resolve(void 0);Uo=()=>{c.then(OM)}};var OM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Vo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}jo=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var kM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Bo(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:FM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Bo.aa.h.call(this)}}S(Bo,tt);var FM={2:"touch",3:"pen",4:"mouse"};Bo.prototype.h=function(){Bo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $o="closure_listenable_"+(1e6*Math.random()|0),LM=0;function VM(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++LM,this.da=this.fa=!1}function Bc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $c(c){this.src=c,this.g={},this.h=0}$c.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=Hh(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new VM(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function $h(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Bc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Hh(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var zh="closure_lm_"+(1e6*Math.random()|0),qh={};function yI(c,d,f,g,b){if(g&&g.once)return _I(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)yI(c,d[A],f,g,b);return null}return f=Qh(f),c&&c[$o]?c.K(d,f,l(g)?!!g.capture:!!g,b):vI(c,d,f,!1,g,b)}function vI(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,De=Wh(c);if(De||(c[zh]=De=new $c(c)),f=De.add(d,f,g,O,A),f.proxy)return f;if(g=UM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)kM||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(wI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function UM(){function c(f){return d.call(c.src,c.listener,f)}let d=jM;return c}function _I(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)_I(c,d[A],f,g,b);return null}return f=Qh(f),c&&c[$o]?c.L(d,f,l(g)?!!g.capture:!!g,b):vI(c,d,f,!0,g,b)}function II(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)II(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Qh(f),c&&c[$o]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Hh(A,f,g,b),-1<f&&(Bc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Wh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Hh(d,f,g,b)),(f=-1<c?d[c]:null)&&Gh(f))}function Gh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[$o])$h(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(wI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Wh(d))?($h(f,c),f.h==0&&(f.src=null,d[zh]=null)):Bc(c)}}}function wI(c){return c in qh?qh[c]:qh[c]="on"+c}function jM(c,d){if(c.da)c=!0;else{d=new Bo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Gh(c),c=f.call(g,d)}return c}function Wh(c){return c=c[zh],c instanceof $c?c:null}var Kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qh(c){return typeof c=="function"?c:(c[Kh]||(c[Kh]=function(d){return c.handleEvent(d)}),c[Kh])}function nt(){or.call(this),this.i=new $c(this),this.M=this,this.F=null}S(nt,or),nt.prototype[$o]=!0,nt.prototype.removeEventListener=function(c,d,f,g){II(this,c,d,f,g)};function gt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var b=d;d=new tt(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];b=Hc(O,g,!0,d)&&b}if(O=d.g=c,b=Hc(O,g,!0,d)&&b,b=Hc(O,g,!1,d)&&b,f)for(A=0;A<f.length;A++)O=d.g=f[A],b=Hc(O,g,!1,d)&&b}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Bc(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Hc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var De=O.listener,Ze=O.ha||O.src;O.fa&&$h(c.i,O),b=De.call(Ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function EI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function DI(c){c.g=EI(()=>{c.g=null,c.i&&(c.i=!1,DI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class BM extends or{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(c){or.call(this),this.h=c,this.g={}}S(Ho,or);var CI=[];function bI(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&Gh(d)},c),c.g={}}Ho.prototype.N=function(){Ho.aa.N.call(this),bI(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yh=a.JSON.stringify,$M=a.JSON.parse,HM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zh(){}Zh.prototype.h=null;function TI(c){return c.h||(c.h=c.i())}function SI(){}var zo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jh(){tt.call(this,"d")}S(Jh,tt);function Xh(){tt.call(this,"c")}S(Xh,tt);var ti={},AI=null;function zc(){return AI=AI||new nt}ti.La="serverreachability";function MI(c){tt.call(this,ti.La,c)}S(MI,tt);function qo(c){let d=zc();gt(d,new MI(d))}ti.STAT_EVENT="statevent";function xI(c,d){tt.call(this,ti.STAT_EVENT,c),this.stat=d}S(xI,tt);function mt(c){let d=zc();gt(d,new xI(d,c))}ti.Ma="timingevent";function RI(c,d){tt.call(this,ti.Ma,c),this.size=d}S(RI,tt);function Go(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Wo(){this.g=!0}Wo.prototype.xa=function(){this.g=!1};function zM(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var O="",De=A.split("&"),Ze=0;Ze<De.length;Ze++){var ve=De[Ze].split("=");if(1<ve.length){var rt=ve[0];ve=ve[1];var it=rt.split("_");O=2<=it.length&&it[1]=="type"?O+(rt+"="+ve+"&"):O+(rt+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function qM(c,d,f,g,b,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+O})}function rs(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+WM(c,f)+(g?" "+g:"")})}function GM(c,d){c.info(function(){return"TIMEOUT: "+d})}Wo.prototype.info=function(){};function WM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Yh(f)}catch{return d}}var qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ef;function Gc(){}S(Gc,Zh),Gc.prototype.g=function(){return new XMLHttpRequest},Gc.prototype.i=function(){return{}},ef=new Gc;function ar(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var OI={},tf={};function nf(c,d,f){c.L=1,c.v=Yc(An(d)),c.m=f,c.P=!0,kI(c,null)}function kI(c,d){c.F=Date.now(),Wc(c),c.A=An(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),QI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new PI,c.g=fw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new BM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(CI[0]=b.toString()),b=CI);for(var A=0;A<b.length;A++){var O=yI(f,b[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),qo(),zM(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;let d=this.M;d&&Mn(c)==3?d.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{let it=Mn(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||nw(this.g)))){this.J||it!=4||d==7||(d==8||0>=os?qo(3):qo(2)),rf(this);var f=this.g.Z();this.X=f;t:if(FI(this)){var g=nw(this.g);c="";var b=g.length,A=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Ko(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,qM(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ze=this.g;if((De=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(De)){var ve=De;break t}}ve=null}if(f=ve)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sf(this,f);else{this.o=!1,this.s=3,mt(12),ni(this),Ko(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=KM(this,O),Kt==tf){it==4&&(this.s=4,mt(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==OI){this.s=4,mt(15),rs(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,Kt,null),sf(this,Kt);if(FI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||O.length!=0||this.h.h||(this.s=1,mt(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,O,"[Invalid Chunked Response]"),ni(this),Ko(this);else if(0<O.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),df(rt),rt.M=!0,mt(11))}}else rs(this.i,this.l,O,null),sf(this,O);it==4&&ni(this),this.o&&!this.J&&(it==4?uw(this.j,this):(this.o=!1,Wc(this)))}else dx(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ni(this),Ko(this)}}}catch{}finally{}};function FI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function KM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?tf:(f=Number(d.substring(f,g)),isNaN(f)?OI:(g+=1,g+f>d.length?tf:(d=d.slice(g,g+f),c.C=g+f,d)))}ar.prototype.cancel=function(){this.J=!0,ni(this)};function Wc(c){c.S=Date.now()+c.I,LI(c,c.I)}function LI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Go(m(c.ba,c),d)}function rf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GM(this.i,this.A),this.L!=2&&(qo(),mt(17)),ni(this),this.s=2,Ko(this)):LI(this,this.S-c)};function Ko(c){c.j.G==0||c.J||uw(c.j,c)}function ni(c){rf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function sf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||of(f.h,c))){if(!c.K&&of(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)tu(f),Xc(f);else break e;lf(f),mt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Go(m(f.Za,f),6e3));if(1>=jI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ii(f,11)}else if((c.K||f.g==c)&&tu(f),!$(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let rt=ve[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=ve[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let os=ve[5];os!=null&&typeof os=="number"&&0<os&&(g=1.5*os,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let ru=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var A=g.h;A.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(af(A,A.h),A.h=null))}if(g.D){let hf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;hf&&(g.ya=hf,Ae(g.I,g.D,hf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=hw(g,g.J?g.ia:null,g.W),O.K){BI(g.h,O);var De=O,Ze=g.L;Ze&&(De.I=Ze),De.B&&(rf(De),Wc(De)),g.g=O}else aw(g);0<f.i.length&&eu(f)}else ve[0]!="stop"&&ve[0]!="close"||ii(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ii(f,7):uf(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}qo(4)}catch{}}var QM=class{constructor(c,d){this.g=c,this.map=d}};function VI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jI(c){return c.h?1:c.g?c.g.size:0}function of(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function af(c,d){c.g?c.g.add(d):c.h=d}function BI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}VI.prototype.cancel=function(){if(this.i=$I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $I(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function YM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function ZM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function HI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ZM(c),g=YM(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var zI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,Kc(this,c.j),this.o=c.o,this.g=c.g,Qc(this,c.s),this.l=c.l;var d=c.i,f=new Zo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qI(this,f),this.m=c.m}else c&&(d=String(c).match(zI))?(this.h=!1,Kc(this,d[1]||"",!0),this.o=Qo(d[2]||""),this.g=Qo(d[3]||"",!0),Qc(this,d[4]),this.l=Qo(d[5]||"",!0),qI(this,d[6]||"",!0),this.m=Qo(d[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Yo(d,GI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Yo(d,GI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Yo(f,f.charAt(0)=="/"?tx:ex,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Yo(f,rx)),c.join("")};function An(c){return new ri(c)}function Kc(c,d,f){c.j=f?Qo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Qc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function qI(c,d,f){d instanceof Zo?(c.i=d,ix(c.i,c.h)):(f||(d=Yo(d,nx)),c.i=new Zo(d,c.h))}function Ae(c,d,f){c.i.set(d,f)}function Yc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Yo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,XM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var GI=/[#\/\?@]/g,ex=/[#\?:]/g,tx=/[#\?]/g,nx=/[#\?@]/g,rx=/#/g;function Zo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&JM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Zo.prototype,t.add=function(c,d){cr(this),this.i=null,c=is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function WI(c,d){cr(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function KI(c,d){return cr(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){cr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){cr(this);let d=[];if(typeof c=="string")KI(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return cr(this),this.i=null,c=is(this,c),KI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function QI(c,d,f){WI(c,d),0<f.length&&(c.i=null,c.g.set(is(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=A;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ix(c,d){d&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(WI(this,g),QI(this,b,f))},c)),c.j=d}function sx(c,d){let f=new Wo;if(a.Image){let g=new Image;g.onload=v(ur,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(ur,f,"TestLoadImage: error",!1,d,g),g.onabort=v(ur,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(ur,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ox(c,d){let f=new Wo,g=new AbortController,b=setTimeout(()=>{g.abort(),ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?ur(f,"TestPingServer: ok",!0,d):ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ur(f,"TestPingServer: error",!1,d)})}function ur(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function ax(){this.g=new HM}function cx(c,d,f){let g=f||"";try{HI(c,function(b,A){let O=b;l(b)&&(O=Yh(b)),d.push(g+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Jo(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Jo,Zh),Jo.prototype.g=function(){return new Zc(this.l,this.j)},Jo.prototype.i=function(c){return function(){return c}}({});function Zc(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Zc,nt),t=Zc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function YI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Xo(this):ea(this),this.readyState==3&&YI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Xo(this))},t.Qa=function(c){this.g&&(this.response=c,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ZI(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function cf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ZI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ae(c,d,f))}function Pe(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pe,nt);var ux=/^https?$/i,lx=["POST","PUT"];t=Pe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ef.g(),this.v=this.o?TI(this.o):TI(ef),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){JI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){JI(this,A)}};function JI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,XI(c),Jc(c)}function XI(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),Jc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jc(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ew(this):this.bb())},t.bb=function(){ew(this)};function ew(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)EI(c.Ea,0,c);else if(gt(c,"readystatechange"),Mn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(zI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!ux.test(b?b.toLowerCase():"")}f=g}if(f)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var A=2<Mn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",XI(c)}}finally{Jc(c)}}}}function Jc(c,d){if(c.g){tw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||gt(c,"ready");try{f.onreadystatechange=g}catch{}}}function tw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$M(d)}};function nw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dx(c){let d={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function rw(c){this.Aa=0,this.i=[],this.j=new Wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new VI(c&&c.concurrentRequestLimit),this.Da=new ax,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){mt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=hw(this,null,this.W),eu(this)};function uf(c){if(iw(c),c.G==3){var d=c.U++,f=An(c.I);if(Ae(f,"SID",c.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),na(c,f),d=new ar(c,c.j,d),d.L=2,d.v=Yc(An(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=fw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Wc(d)}dw(c)}function Xc(c){c.g&&(df(c),c.g.cancel(),c.g=null)}function iw(c){Xc(c),c.u&&(a.clearTimeout(c.u),c.u=null),tu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function eu(c){if(!UI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Uo||mI(),jo||(Uo(),jo=!0),Bh.add(d,c),c.B=0}}function hx(c,d){return jI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Go(m(c.Ga,c,d),lw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new ar(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ow(this,b,d),f=An(this.I),Ae(f,"RID",c),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),na(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(ZI(A)))+"&"+d:this.m&&cf(f,this.m,A)),af(this.h,b),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),b.T=!0,nf(b,f,null)):nf(b,f,d),this.G=2}}else this.G==3&&(c?sw(this,c):this.i.length==0||UI(this.h)||sw(this))};function sw(c,d){var f;d?f=d.l:f=c.U++;let g=An(c.I);Ae(g,"SID",c.K),Ae(g,"RID",f),Ae(g,"AID",c.T),na(c,g),c.m&&c.o&&cf(g,c.m,c.o),f=new ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ow(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),af(c.h,f),nf(f,g,d)}function na(c,d){c.H&&ee(c.H,function(f,g){Ae(d,g,f)}),c.l&&HI({},function(f,g){Ae(d,g,f)})}function ow(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let De=!0;for(let Ze=0;Ze<f;Ze++){let ve=b[Ze].g,rt=b[Ze].map;if(ve-=A,0>ve)A=Math.max(0,b[Ze].g-100),De=!1;else try{cx(rt,O,"req"+ve+"_")}catch{g&&g(rt)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function aw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Uo||mI(),jo||(Uo(),jo=!0),Bh.add(d,c),c.v=0}}function lf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Go(m(c.Fa,c),lw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Go(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Xc(this),cw(this))};function df(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cw(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=An(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),na(c,d),c.m&&c.o&&cf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Yc(An(d)),f.m=null,f.P=!0,kI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Xc(this),lf(this),mt(19))};function tu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uw(c,d){var f=null;if(c.g==d){tu(c),df(c),c.g=null;var g=2}else if(of(c.h,d))f=d.D,BI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=zc(),gt(g,new RI(g,f)),eu(c)}else aw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&hx(c,d)||g==2&&lf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function lw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ii(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new ri(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Kc(g,"https"),Yc(g),b?sx(g.toString(),f):ox(g.toString(),f)}else mt(2);c.G=0,c.l&&c.l.sa(d),dw(c),iw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function dw(c){if(c.G=0,c.ka=[],c.l){let d=$I(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function hw(c,d,f){var g=f instanceof ri?An(f):new ri(f);if(g.g!="")d&&(g.g=d+"."+g.g),Qc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new ri(null);g&&Kc(A,g),d&&(A.g=d),b&&Qc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ae(g,f,d),Ae(g,"VER",c.la),na(c,g),g}function fw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new Jo({eb:f})):new Pe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pw(){}t=pw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(c,d){return new bt(c,d)};function bt(c,d){nt.call(this),this.g=new rw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}S(bt,nt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){uf(this.g)},bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Yh(c),c=f);d.i.push(new QM(d.Ya++,c)),d.G==3&&eu(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,uf(this.g),delete this.g,bt.aa.N.call(this)};function gw(c){Jh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(gw,Jh);function mw(){Xh.call(this),this.status=1}S(mw,Xh);function ss(c){this.g=c}S(ss,pw),ss.prototype.ua=function(){gt(this.g,"a")},ss.prototype.ta=function(c){gt(this.g,new gw(c))},ss.prototype.sa=function(c){gt(this.g,new mw)},ss.prototype.ra=function(){gt(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,ov=er.createWebChannelTransport=function(){return new nu},sv=er.getStatEventTarget=function(){return zc()},iv=er.Event=ti,zd=er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,yc=er.ErrorCode=qc,NI.COMPLETE="complete",rv=er.EventType=NI,SI.EventType=zo,zo.OPEN="a",zo.CLOSE="b",zo.ERROR="c",zo.MESSAGE="d",nt.prototype.listen=nt.prototype.K,go=er.WebChannel=SI,nv=er.FetchXmlHttpFactory=Jo,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,tv=er.XhrIo=Pe}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});var MS="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Oo="10.13.1";var Wi=new jr("@firebase/firestore");function vc(){return Wi.logLevel}function V(t,...e){if(Wi.logLevel<=he.DEBUG){let n=e.map(W_);Wi.debug(`Firestore (${Oo}): ${t}`,...n)}}function nr(t,...e){if(Wi.logLevel<=he.ERROR){let n=e.map(W_);Wi.error(`Firestore (${Oo}): ${t}`,...n)}}function Eo(t,...e){if(Wi.logLevel<=he.WARN){let n=e.map(W_);Wi.warn(`Firestore (${Oo}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function be(t,e){t||Q()}function X(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fv=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new Qd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ye(e)}},pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function pB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function Do(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Re=class t extends Zd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends Zd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};vv.UNKNOWN_ID=-1;function mB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Ki(i,z.empty(),e)}function yB(t){return new Ki(t.readTime,t.key,-1)}var Ki=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),z.empty(),-1)}static max(){return new t(re.max(),z.empty(),-1)}};function vB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var _B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(t){return w(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==_B)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function IB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}var lA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Th(t){return t==null}function bc(t){return t===0&&1/t==-1/0}function wB(t){return typeof t=="number"&&Number.isInteger(t)&&!bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var EB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h8=[...EB,"documentOverlays"],DB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CB=DB,bB=[...CB,"indexConfiguration","indexState","indexEntries"];var f8=[...bB,"globals"];function xS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _o(this.root,e,this.comparator,!1)}getReverseIterator(){return new _o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _o(this.root,e,this.comparator,!0)}},_o=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Jd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var En=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ft(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Xd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var TB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(be(!!t),typeof t=="string"){let e=0,n=TB.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}function K_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Q_(t){let e=t.mapValue.fields.__previous_value__;return K_(e)?Q_(e):e}function Tc(t){let e=rr(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var Iv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},eh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:fA(t)?9007199254740991:hA(t)?10:11:Q()}function Tn(t,e){if(t===e)return!0;let n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=rr(i.timestampValue),a=rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xe(i.doubleValue),a=xe(s.doubleValue);return o===a?bc(o)===bc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xS(o)!==xS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Tn(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Sc(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function Co(t,e){if(t===e)return 0;let n=Qi(t),r=Qi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=xe(s.integerValue||s.doubleValue),u=xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RS(t.timestampValue,e.timestampValue);case 4:return RS(Tc(t),Tc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Yr(s),u=Yr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(xe(s.latitude),xe(o.latitude));return a!==0?a:_e(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:NS(v,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qd.mapValue&&o===qd.mapValue)return 0;if(s===qd.mapValue)return 1;if(o===qd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=Co(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function RS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=rr(t),r=rr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function NS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Co(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function bo(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=wv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wv(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function PS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ev(t){return!!t&&"integerValue"in t}function Y_(t){return!!t&&"arrayValue"in t}function OS(t){return!!t&&"nullValue"in t}function kS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function hA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ic(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ic(this.value))}};function pA(t){let e=[];return ko(t.fields,(n,r)=>{let i=new Vt([n]);if(Wd(r)){let s=pA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new En(e)}var rn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var To=class{constructor(e,n){this.position=e,this.inclusive=n}};function FS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=Co(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}var Yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function SB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var th=class{},Be=class t extends th{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cv(e,n,r):n==="array-contains"?new Sv(e,r):n==="in"?new Av(e,r):n==="not-in"?new Mv(e,r):n==="array-contains-any"?new xv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bv(e,r):new Tv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Co(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class t extends th{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gA(t){return t.op==="and"}function mA(t){return AB(t)&&gA(t)}function AB(t){for(let e of t.filters)if(e instanceof sn)return!1;return!0}function Dv(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(mA(t))return t.filters.map(e=>Dv(e)).join(",");{let e=t.filters.map(n=>Dv(n)).join(",");return`${t.op}(${e})`}}function yA(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Tn(r.value,i.value)}(t,e):t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yA(o,i.filters[a]),!0):!1}(t,e):void Q()}function vA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(vA).join(" ,")+"}"}(t):"Filter"}var Cv=class extends Be{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},bv=class extends Be{constructor(e,n){super(e,"in",n),this.keys=_A("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Tv=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=_A("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _A(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Sv=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Y_(n)&&Sc(n.arrayValue,this.value)}},Av=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}},Mv=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}},xv=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Y_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}};var Rv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function VS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rv(t,e,n,r,i,s,o)}function Z_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ue=n}return e.ue}function J_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LS(t.startAt,e.startAt)&&LS(t.endAt,e.endAt)}function Nv(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Zr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function MB(t,e,n,r,i,s,o,a){return new Zr(t,e,n,r,i,s,o,a)}function X_(t){return new Zr(t)}function US(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IA(t){return t.collectionGroup!==null}function wc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yi(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Yi(Vt.keyField(),r))}return e.ce}function Cn(t){let e=X(t);return e.le||(e.le=xB(e,wc(t))),e.le}function xB(t,e){if(t.limitType==="F")return VS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yi(i.field,s)});let n=t.endAt?new To(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new To(t.startAt.position,t.startAt.inclusive):null;return VS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pv(t,e){let n=t.filters.concat([e]);return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sh(t,e){return J_(Cn(t),Cn(e))&&t.limitType===e.limitType}function wA(t){return`${Z_(Cn(t))}|lt:${t.limitType}`}function mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vA(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of wc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=FS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,wc(r),i)||r.endAt&&!function(o,a,u){let l=FS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,wc(r),i))}(t,e)}function RB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EA(t){return(e,n)=>{let r=!1;for(let i of wc(t)){let s=NB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NB(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Co(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Jr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}};var PB=new ke(z.comparator);function ir(){return PB}var DA=new ke(z.comparator);function _c(...t){let e=DA;for(let n of t)e=e.insert(n.key,n);return e}function CA(t){let e=DA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return Ec()}function bA(){return Ec()}function Ec(){return new Jr(t=>t.toString(),(t,e)=>t.isEqual(e))}var OB=new ke(z.comparator),kB=new ft(z.comparator);function fe(...t){let e=kB;for(let n of t)e=e.add(n);return e}var FB=new ft(_e);function LB(){return FB}function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function VB(t,e){return wB(e)?TA(e):eI(t,e)}var So=class{constructor(){this._=void 0}};function UB(t,e,n){return t instanceof Ao?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&K_(s)&&(s=Q_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zi?AA(t,e):t instanceof Ji?MA(t,e):function(i,s){let o=SA(i,s),a=jS(o)+jS(i.Pe);return Ev(o)&&Ev(i.Pe)?TA(a):eI(i.serializer,a)}(t,e)}function jB(t,e,n){return t instanceof Zi?AA(t,e):t instanceof Ji?MA(t,e):n}function SA(t,e){return t instanceof Mo?function(r){return Ev(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ao=class extends So{},Zi=class extends So{constructor(e){super(),this.elements=e}};function AA(t,e){let n=xA(e);for(let r of t.elements)n.some(i=>Tn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ji=class extends So{constructor(e){super(),this.elements=e}};function MA(t,e){let n=xA(e);for(let r of t.elements)n=n.filter(i=>!Tn(i,r));return{arrayValue:{values:n}}}var Mo=class extends So{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function jS(t){return xe(t.integerValue||t.doubleValue)}function xA(t){return Y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zi&&i instanceof Zi||r instanceof Ji&&i instanceof Ji?Do(r.elements,i.elements,Tn):r instanceof Mo&&i instanceof Mo?Tn(r.Pe,i.Pe):r instanceof Ao&&i instanceof Ao}(t.transform,e.transform)}var kv=class{constructor(e,n){this.version=e,this.transformResults=n}},Gi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var xo=class{};function RA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nh(t.key,Gi.none()):new Xi(t.key,t.data,Gi.none());{let n=t.data,r=nn.empty(),i=new ft(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new sr(t.key,r,new En(i.toArray()),Gi.none())}}function $B(t,e,n){t instanceof Xi?function(i,s,o){let a=i.value.clone(),u=$S(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(i,s,o){if(!Kd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=$S(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dc(t,e,n,r){return t instanceof Xi?function(s,o,a,u){if(!Kd(s.precondition,o))return a;let l=s.value.clone(),h=HS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof sr?function(s,o,a,u){if(!Kd(s.precondition,o))return a;let l=HS(s.fieldTransforms,u,o),h=o.data;return h.setAll(NA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Kd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=SA(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function BS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Do(r,i,(s,o)=>BB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Xi=class extends xo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends xo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $S(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jB(o,a,n[i]))}return r}function HS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,UB(s,o,e))}return r}var nh=class extends xo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fv=class extends xo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&$B(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=bA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=RA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>BS(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>BS(n,r))}},Vv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return OB}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Uv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,ye;function zB(t){switch(t){default:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function PA(t){if(t===void 0)return nr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ue.OK:return x.OK;case Ue.CANCELLED:return x.CANCELLED;case Ue.UNKNOWN:return x.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return x.INTERNAL;case Ue.UNAVAILABLE:return x.UNAVAILABLE;case Ue.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ue.NOT_FOUND:return x.NOT_FOUND;case Ue.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ue.ABORTED:return x.ABORTED;case Ue.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ue.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(ye=Ue||(Ue={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var zS=null;function qB(){return new TextEncoder}var GB=new Kr([4294967295,4294967295],0);function qS(t){let e=qB().encode(t),n=new ev;return n.update(e),new Uint8Array(n.digest())}function GS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kr([n,r],0),new Kr([i,s],0)]}var Bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Kr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Kr.fromNumber(r)));return i.compare(GB)===1&&(i=new Kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=qS(e),[r,i]=GS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=qS(e),[r,i]=GS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new ke(_e),ir(),fe())}},Ac=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Io=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ih=class{constructor(e,n){this.targetId=e,this.me=n}},sh=class{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.fe=0,this.ge=KS(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=KS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$v=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=WS(),this.Qe=new ke(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Nv(s))if(r===0){let o=new z(s.path);this.Ue(n,o,rn.newNoDocument(o,re.min()))}else be(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}zS?.et(function(h,p,m,v,S){var R,M,F,$,q,ce;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Ne.bloomFilter={applied:S===0,hashCount:(R=ee?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:($=(F=(M=ee?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(ce=(q=ee?.bits)===null||q===void 0?void 0:q.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Ne}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Yr(r).toUint8Array()}catch(u){if(u instanceof Xd)return Eo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bv(o,i,s)}catch(u){return Eo(u instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Nv(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,rn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new rh(e,n,this.Qe,this.ke,r);return this.ke=ir(),this.qe=WS(),this.Qe=new ke(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new oh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function WS(){return new ke(z.comparator)}function KS(){return new ke(z.comparator)}var WB={asc:"ASCENDING",desc:"DESCENDING"},KB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QB={and:"AND",or:"OR"},Hv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function zv(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YB(t,e){return ah(t,e.toTimestamp())}function bn(t){return be(!!t),re.fromTimestamp(function(n){let r=rr(n);return new et(r.seconds,r.nanos)}(t))}function tI(t,e){return qv(t,e).canonicalString()}function qv(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kA(t){let e=Re.fromString(t);return be(jA(e)),e}function Gv(t,e){return tI(t.databaseId,e.path)}function av(t,e){let n=kA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(LA(n))}function FA(t,e){return tI(t.databaseId,e)}function ZB(t){let e=kA(t);return e.length===4?Re.emptyPath():LA(e)}function Wv(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LA(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QS(t,e,n){return{name:Gv(t,e),fields:n.value.mapValue.fields}}function JB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),pt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?x.UNKNOWN:PA(l.code);return new L(h,l.message||"")}(o);n=new sh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=av(t,r.document.name),s=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):re.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Io(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=av(t,r.document),s=r.readTime?bn(r.readTime):re.min(),o=rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Io([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=av(t,r.document),s=r.removedTargetIds||[];n=new Io([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jv(i,s),a=r.targetId;n=new ih(a,o)}}return n}function XB(t,e){let n;if(e instanceof Xi)n={update:QS(t,e.key,e.value)};else if(e instanceof nh)n={delete:Gv(t,e.key)};else if(e instanceof sr)n={update:QS(t,e.key,e.data),updateMask:c$(e.fieldMask)};else{if(!(e instanceof Fv))return Q();n={verify:Gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ji)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function e$(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?bn(i.updateTime):bn(s);return o.isEqual(re.min())&&(o=bn(s)),new kv(o,i.transformResults||[])}(n,e))):[]}function t$(t,e){return{documents:[FA(t,e.path)]}}function n$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FA(t,i);let s=function(l){if(l.length!==0)return UA(sn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:yo(m.field),direction:s$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function r$(t){let e=ZB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=VA(p);return m instanceof sn&&mA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Yi(vo(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Th(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new To(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new To(v,m)}(n.endAt)),MB(e,i,o,s,a,"F",u,l)}function i$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=vo(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=vo(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=vo(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=vo(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(vo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>VA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function s$(t){return WB[t]}function o$(t){return KB[t]}function a$(t){return QB[t]}function yo(t){return{fieldPath:t.canonicalString()}}function vo(t){return Vt.fromServerFormat(t.fieldPath)}function UA(t){return t instanceof Be?function(n){if(n.op==="=="){if(kS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(OS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(OS(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:o$(n.op),value:n.value}}}(t):t instanceof sn?function(n){let r=n.getFilters().map(i=>UA(i));return r.length===1?r[0]:{compositeFilter:{op:a$(n.op),filters:r}}}(t):Q()}function c$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Mc=class t{constructor(e,n,r,i,s=re.min(),o=re.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Kv=class{constructor(e){this.ct=e}};function u$(t){let e=r$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}var ch=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),bc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=rr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Yr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ch.vt=new ch;var Qv=class{constructor(){this.un=new Yv}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ki.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Yv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Re.comparator)).toArray()}};var g8=new Uint8Array(0);var wn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var xc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Zv=class{constructor(){this.changes=new Jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dc(r.mutation,i,En.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_c();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir(),o=Ec(),a=function(){return Ec()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Dc(h.mutation,l,h.mutation.getFieldMask(),et.now())):o.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Jv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ec(),i=new ke((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||En.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=bA();h.forEach(m=>{if(!s.has(m)){let v=RA(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(Hi()),a=-1,u=s;return o.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:CA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=_c();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,u=>{let l=function(p,m){return new Zr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,rn.newInvalidDocument(h)))});let a=_c();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Dc(h.mutation,l,En.empty(),et.now()),Ah(n,l)&&(a=a.insert(u,l))}),a})}};var e_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:u$(i.bundledQuery),readTime:bn(i.readTime)}}(n)),N.resolve()}};var t_=class{constructor(){this.overlays=new ke(z.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Hi();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Hi(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Hi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Hi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uv(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var n_=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Rc=class{constructor(){this.Tr=new ft(je.Er),this.dr=new ft(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Re([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Re([])),r=new je(n,e),i=new je(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||z.comparator(e.key,n.key)}};var r_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ft(je.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Lv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(_e);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;z.isDocumentKey(s)||(s=s.child(""));let o=new je(new z(s),0),a=new ft(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var i_=class{constructor(e){this.Mr=e,this.docs=function(){return new ke(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir(),o=n.path,a=new z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vB(yB(h),r)<=0||(i.has(h.key)||Ah(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s_(this)}getSize(e){return N.resolve(this.size)}},s_=class extends Zv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var o_=class{constructor(e){this.persistence=e,this.Nr=new Jr(n=>Z_(n),J_),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rc,this.targetCount=0,this.kr=xc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var a_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lA(0),this.Kr=!1,this.Kr=!0,this.$r=new n_,this.referenceDelegate=e(this),this.Ur=new o_(this),this.indexManager=new Qv,this.remoteDocumentCache=function(i){return new i_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Kv(n),this.Gr=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new r_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new c_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},c_=class extends _v{constructor(e){super(),this.currentSequenceNumber=e}},u_=class t{constructor(e){this.persistence=e,this.Jr=new Rc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var l_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var d_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var h_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aT()?8:IB(Qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new d_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(vc()<=he.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(vc()<=he.DEBUG&&V("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vc()<=he.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):N.resolve())}Yi(e,n){if(US(n))return N.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ov(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ov(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return US(n)||i.isEqual(re.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?N.resolve(null):(vc()<=he.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mo(n)),this.rs(e,o,n,mB(i,-1)).next(a=>a))})}ts(e,n){let r=new ft(EA(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return vc()<=he.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",mo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var f_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ke(_e),this._s=new Jr(s=>Z_(s),J_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function l$(t,e,n,r){return new f_(t,e,n,r)}function BA(t,e){return w(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function d$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=N.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(R=>{let M=l.docVersions.get(S);be(M!==null),R.version.compareTo(M)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $A(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h$(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(pt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(R,M,F){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=ir(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(f$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(re.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function f$(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function p$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Mc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function p_(t,e,n){return w(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function YS(t,e,n){let r=X(t),i=re.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?N.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:fe())).next(a=>(m$(r,RB(e),a),{documents:a,Ts:s})))}function m$(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var uh=class{constructor(){this.activeTargetIds=LB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var g_=class{constructor(){this.so=new uh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var m_=class{_o(e){}shutdown(){}};var lh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gd=null;function cv(){return Gd===null?Gd=function(){return 268435456+Math.round(2147483648*Math.random())}():Gd++,"0x"+Gd.toString(16)}var y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var y_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ht="WebChannelConnection",v_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=cv(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Eo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=y$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=cv();return new Promise((o,a)=>{let u=new tv;u.setWithCredentials(!0),u.listenOnce(rv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yc.NO_ERROR:let h=u.getResponseJson();V(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case yc.TIMEOUT:V(ht,`RPC '${e}' ${s} timed out`),a(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:let p=u.getStatus();if(V(ht,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(ht,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(ht,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ov(),a=sv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new nv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,S=new y_({Io:M=>{v?V(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(V(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(ht,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),R=(M,F,$)=>{M.listen(F,q=>{try{$(q)}catch(ce){setTimeout(()=>{throw ce},0)}})};return R(p,go.EventType.OPEN,()=>{v||(V(ht,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(p,go.EventType.CLOSE,()=>{v||(v=!0,V(ht,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(p,go.EventType.ERROR,M=>{v||(v=!0,Eo(ht,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,go.EventType.MESSAGE,M=>{var F;if(!v){let $=M.data[0];be(!!$);let q=$,ce=q.error||((F=q[0])===null||F===void 0?void 0:F.error);if(ce){V(ht,`RPC '${e}' stream ${i} received error:`,ce);let Ne=ce.status,ee=function(_){let E=Ue[_];if(E!==void 0)return PA(E)}(Ne),D=ce.message;ee===void 0&&(ee=x.INTERNAL,D="Unknown error status: "+Ne+" with message "+ce.message),v=!0,S.So(new L(ee,D)),p.close()}else V(ht,`RPC '${e}' stream ${i} received:`,$),S.bo($)}}),R(a,iv.STAT_EVENT,M=>{M.stat===zd.PROXY?V(ht,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===zd.NOPROXY&&V(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function uv(){return typeof document<"u"?document:null}function Mh(t){return new Hv(t,!0)}var dh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},__=class extends hh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=JB(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?bn(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Wv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Nv(u)?{documents:t$(s,u)}:{query:n$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OA(s,o.resumeToken);let l=zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=ah(s,o.snapshotVersion.toTimestamp());let l=zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=i$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Wv(this.serializer),n.removeTarget=e,this.a_(n)}},I_=class extends hh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=e$(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Wv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XB(this.serializer,r))};this.a_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,qv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,qv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},E_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var D_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ts(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=X(u);l.L_.add(4),yield Uc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new E_(r,i)}};function xh(t){return w(this,null,function*(){if(ts(t))for(let e of t.B_)yield e(!0)})}function Uc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function HA(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sI(n)?iI(n):Fo(n).r_()&&rI(n,e))}function nI(t,e){let n=X(t),r=Fo(n);n.N_.delete(e),r.r_()&&zA(n,e),n.N_.size===0&&(r.r_()?r.o_():ts(n)&&n.q_.set("Unknown"))}function rI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(t).A_(e)}function zA(t,e){t.Q_.xe(e),Fo(t).R_(e)}function iI(t){t.Q_=new $v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fo(t).start(),t.q_.v_()}function sI(t){return ts(t)&&!Fo(t).n_()&&t.N_.size>0}function ts(t){return X(t).L_.size===0}function qA(t){t.Q_=void 0}function v$(t){return w(this,null,function*(){t.q_.set("Online")})}function _$(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{rI(t,e)})})}function I$(t,e){return w(this,null,function*(){qA(t),sI(t)?(t.q_.M_(e),iI(t)):t.q_.set("Unknown")})}function w$(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof sh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fh(t,r)}else if(e instanceof Io?t.Q_.Ke(e):e instanceof ih?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield $A(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),zA(s,u);let p=new Mc(h.target,u,l,h.sequenceNumber);rI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield fh(t,r)}})}function fh(t,e,n){return w(this,null,function*(){if(!Vc(e))throw e;t.L_.add(1),yield Uc(t),t.q_.set("Offline"),n||(n=()=>$A(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xh(t)}))})}function GA(t,e){return e().catch(n=>fh(t,n,e))}function Rh(t){return w(this,null,function*(){let e=X(t),n=Xr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;E$(e);)try{let i=yield p$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,D$(e,i)}catch(i){yield fh(e,i)}WA(e)&&KA(e)})}function E$(t){return ts(t)&&t.O_.length<10}function D$(t,e){t.O_.push(e);let n=Xr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WA(t){return ts(t)&&!Xr(t).n_()&&t.O_.length>0}function KA(t){Xr(t).start()}function C$(t){return w(this,null,function*(){Xr(t).p_()})}function b$(t){return w(this,null,function*(){let e=Xr(t);for(let n of t.O_)e.m_(n.mutations)})}function T$(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Vv.from(r,e,n);yield GA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rh(t)})}function S$(t,e){return w(this,null,function*(){e&&Xr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return zB(o)&&o!==x.ABORTED}(i.code)){let s=r.O_.shift();Xr(r).s_(),yield GA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Rh(r)}})}(t,e)),WA(t)&&KA(t)})}function ZS(t,e){return w(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=ts(n);n.L_.add(3),yield Uc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xh(n)})}function A$(t,e){return w(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield xh(n)):e||(n.L_.add(2),yield Uc(n),n.q_.set("Unknown"))})}function Fo(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new __(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v$.bind(null,t),Ro:_$.bind(null,t),mo:I$.bind(null,t),d_:w$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),sI(t)?iI(t):t.q_.set("Unknown")):(yield t.K_.stop(),qA(t))}))),t.K_}function Xr(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new I_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:C$.bind(null,t),mo:S$.bind(null,t),f_:b$.bind(null,t),g_:T$.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Rh(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var C_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oI(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Vc(t))return new L(x.UNAVAILABLE,`${e}: ${t}`);throw t}var ph=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gh=class{constructor(){this.W_=new ke(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ro=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ph.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},T_=class{constructor(){this.queries=JS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=JS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(x.ABORTED,"Firestore shutting down"))}};function JS(){return new Jr(t=>wA(t),Sh)}function M$(t,e){return w(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=oI(o,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&aI(n)})}function x$(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function R$(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&aI(n)}function N$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function aI(t){t.Y_.forEach(e=>{e.next()})}var S_,XS;(XS=S_||(S_={})).ea="default",XS.Cache="cache";var A_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==S_.Cache}};var mh=class{constructor(e){this.key=e}},yh=class{constructor(e){this.key=e}},M_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=EA(e),this.Ra=new ph(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new gh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Ah(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),M=!0):this.ga(m,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),M=!0):m&&!v&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(v?(o=o.add(v),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,S){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return R(v)-R(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Ro(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mh(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ro.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},x_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},R_=class{constructor(e){this.key=e,this.va=!1}},N_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Jr(a=>wA(a),Sh),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(z.comparator),this.Na=new Map,this.La=new Rc,this.Ba={},this.ka=new Map,this.qa=xc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function P$(t,e,n=!0){return w(this,null,function*(){let r=eM(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield QA(r,e,n,!0),i})}function O$(t,e){return w(this,null,function*(){let n=eM(t);yield QA(n,e,!0,!1)})}function QA(t,e,n,r){return w(this,null,function*(){let i=yield g$(t.localStore,Cn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield k$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&HA(t.remoteStore,i),a})}function k$(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(R,M,F,$){return w(this,null,function*(){let q=M.view.ma(F);q.ns&&(q=yield YS(R.localStore,M.query,!1).then(({documents:D})=>M.view.ma(D,q)));let ce=$&&$.targetChanges.get(M.targetId),Ne=$&&$.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(q,R.isPrimaryClient,ce,Ne);return tA(R,M.targetId,ee.wa),ee.snapshot})}(t,p,m,v);let s=yield YS(t.localStore,e,!0),o=new M_(e,s.Ts),a=o.ma(s.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);tA(t,n,l.wa);let h=new x_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function F$(t,e,n){return w(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Sh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield p_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nI(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Lc))):(P_(r,i.targetId),yield p_(r.localStore,i.targetId,!0))})}function L$(t,e){return w(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nI(n.remoteStore,r.targetId))})}function V$(t,e,n){return w(this,null,function*(){let r=q$(t);try{let i=yield function(o,a){let u=X(o),l=et.now(),h=a.reduce((v,S)=>v.add(S.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=ir(),R=fe();return u.cs.getEntries(v,h).next(M=>{S=M,S.forEach((F,$)=>{$.isValidDocument()||(R=R.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(M=>{p=M;let F=[];for(let $ of a){let q=HB($,p.get($.key).overlayedDocument);q!=null&&F.push(new sr($.key,q,pA(q.value.mapValue),Gi.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(M=>{m=M;let F=M.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(v,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:CA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new ke(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield jc(r,i.changes),yield Rh(r.remoteStore)}catch(i){let s=oI(i,"Failed to persist write");n.reject(s)}})}function YA(t,e){return w(this,null,function*(){let n=X(t);try{let r=yield h$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?be(o.va):i.removedDocuments.size>0&&(be(o.va),o.va=!1))}),yield jc(n,r,e)}catch(r){yield Lc(r)}})}function eA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&aI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U$(t,e,n){return w(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new ke(z.comparator);o=o.insert(s,rn.newNoDocument(s,re.min()));let a=fe().add(s),u=new rh(re.min(),new Map,new ke(_e),o,a);yield YA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),cI(r)}else yield p_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Lc)})}function j$(t,e){return w(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield d$(n.localStore,e);JA(n,r,null),ZA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield jc(n,i)}catch(i){yield Lc(i)}})}function B$(t,e,n){return w(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);JA(r,e,n),ZA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield jc(r,i)}catch(i){yield Lc(i)}})}function ZA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function JA(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XA(t,r)})}function XA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(nI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cI(t))}function tA(t,e,n){for(let r of n)r instanceof mh?(t.La.addReference(r.key,e),$$(t,r)):r instanceof yh?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XA(t,r.key)):Q()}function $$(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),cI(t))}function cI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new R_(n)),t.Oa=t.Oa.insert(n,r),HA(t.remoteStore,new Mc(Cn(X_(n.path)),r,"TargetPurposeLimboResolution",lA.oe))}}function jc(t,e,n){return w(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=l_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>N.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Vc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,R)}}})}(r.localStore,s))})}function H$(t,e){return w(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield BA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jc(n,r.hs)}})}function z$(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function eM(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U$.bind(null,e),e.Ca.d_=R$.bind(null,e.eventManager),e.Ca.$a=N$.bind(null,e.eventManager),e}function q$(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B$.bind(null,e),e}var vh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return l$(this.persistence,new h_,e.initialUser,this.serializer)}createPersistence(e){return new a_(u_.Zr,this.serializer)}createSharedClientState(e){return new g_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var O_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H$.bind(null,this.syncEngine),yield A$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new T_}()}createDatastore(e){let n=Mh(e.databaseInfo.databaseId),r=function(s){return new v_(s)}(e.databaseInfo);return function(s,o,a,u){return new w_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new D_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eA(this.syncEngine,n,0),function(){return lh.D()?new lh:new m_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new N_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=X(i);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Uc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var k_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var F_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=oI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield BA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function nA(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield W$(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ZS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ZS(e.remoteStore,i)),t._onlineComponents=e})}function G$(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function W$(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!G$(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),yield lv(t,new vh)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield lv(t,new vh);return t._offlineComponents})}function tM(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield nA(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield nA(t,new O_))),t._onlineComponents})}function K$(t){return tM(t).then(e=>e.syncEngine)}function rA(t){return w(this,null,function*(){let e=yield tM(t),n=e.eventManager;return n.onListen=P$.bind(null,e.syncEngine),n.onUnlisten=F$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L$.bind(null,e.syncEngine),n})}function nM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iA=new Map;function rM(t,e,n){if(!n)throw new L(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q$(t,e,n,r){if(e===!0&&r===!0)throw new L(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sA(t){if(!z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oA(t){if(z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Cc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nh(t);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var _h=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},No=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _h(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dv;switch(r.type){case"firstParty":return new gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iA.get(n);r&&(V("ComponentProvider","Removing Datastore"),iA.delete(n),r.terminate())}(this),Promise.resolve()}};function iM(t,e,n,r={}){var i;let s=(t=Cc(t,No))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ye.MOCK_USER;else{a=nT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new hv(new Qd(a,u))}}var es=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Qr=class t extends es{constructor(e,n,r){super(e,n,X_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function sM(t,e,...n){if(t=dt(t),rM("collection","path",e),t instanceof No){let r=Re.fromString(e,...n);return oA(r),new Qr(t,null,r)}{if(!(t instanceof Ut||t instanceof Qr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return oA(r),new Qr(t.firestore,null,r)}}function oM(t,e,...n){if(t=dt(t),arguments.length===1&&(e=Yd.newId()),rM("doc","path",e),t instanceof No){let r=Re.fromString(e,...n);return sA(r),new Ut(t,null,new z(r))}{if(!(t instanceof Ut||t instanceof Qr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return sA(r),new Ut(t.firestore,t instanceof Qr?t.converter:null,new z(r))}}var L_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new dh(this,"async_queue_retry"),this.Eu=()=>{let n=uv();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new tr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=C_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function aA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Po=class extends No{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new L_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uM(this),this._firestoreClient.terminate()}};function aM(t,e){let n=typeof t=="object"?t:co(),r=typeof t=="string"?t:e||"(default)",i=oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=tT("firestore");s&&iM(i,...s)}return i}function cM(t){return t._firestoreClient||uM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Iv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new F_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Nc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(pt.fromBase64String(e))}catch(n){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ih=class{constructor(e){this._methodName=e}};var Oc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var kc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Y$=/^__.*__$/,V_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xi(e,this.data,n,this.fieldTransforms)}};function lM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var U_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return wh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(lM(this.wu)&&Y$.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},j_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Nu(e,n,r,i=!1){return new U_({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dM(t){let e=t._freezeSettings(),n=Mh(t._databaseId);return new j_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z$(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);pM("Data must be an object, but it was:",o,r);let a=hM(r,o),u,l;if(s.merge)u=new En(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=X$(e,p,n);if(!o.contains(m))throw new L(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tH(h,m)||h.push(m)}u=new En(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new V_(new nn(a),u,l)}function J$(t,e,n,r=!1){return uI(n,t.Nu(r?4:3,e))}function uI(t,e){if(fM(t=dt(t)))return pM("Unsupported field value:",e,t),hM(t,e);if(t instanceof Ih)return function(r,i){if(!lM(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=uI(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=et.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof et){let s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nc)return{bytesValue:OA(i.serializer,r._byteString)};if(r instanceof Ut){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return eI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Nh(r)}`)}(t,e)}function hM(t,e){let n={};return dA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,i)=>{let s=uI(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Oc||t instanceof Nc||t instanceof Ut||t instanceof Ih||t instanceof kc)}function pM(t,e,n){if(!fM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function X$(t,e,n){if((e=dt(e))instanceof Pc)return e._internalPath;if(typeof e=="string")return gM(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var eH=new RegExp("[~\\*/\\[\\]]");function gM(t,e,n){if(e.search(eH)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pc(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,a+t+u)}function tH(t,e){return t.some(n=>n.isEqual(e))}var Eh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new B_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(lI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},B_=class extends Eh{data(){return super.data()}};function lI(t,e){return typeof e=="string"?gM(t,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function nH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fc=class{},Dh=class extends Fc{};function mM(t,e,...n){let r=[];e instanceof Fc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof H_).length,a=s.filter(u=>u instanceof $_).length;if(o>1||o>0&&a>0)throw new L(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var $_=class t extends Dh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return vM(e._query,n),new es(e.firestore,e.converter,Pv(e._query,n))}_parse(e){let n=dM(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uA(p,h);let v=[];for(let S of p)v.push(cA(u,s,S));m={arrayValue:{values:v}}}else m=cA(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uA(p,h),m=J$(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var H_=class t extends Fc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)vM(o,u),o=Pv(o,u)}(e._query,n),new es(e.firestore,e.converter,Pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var z_=class t extends Dh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yi(s,o)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Zr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function yM(t,e="asc"){let n=e,r=lI("orderBy",t);return z_._create(r,n)}function cA(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new L(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IA(e)&&n.indexOf("/")!==-1)throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PS(t,new z(r))}if(n instanceof Ut)return PS(t,n._key);throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function uA(t,e){if(!Array.isArray(t)||t.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var q_=class{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>xe(o.doubleValue));return new kc(s)}convertGeoPoint(e){return new Oc(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Q_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){let n=rr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);be(jA(r));let i=new eh(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function rH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var qi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ch=class extends Eh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(lI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},wo=class extends Ch{data(e={}){return super.data(e)}},G_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wo(this._firestore,this._userDataWriter,r.key,r,new qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new wo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:iH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function iH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var bh=class extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}};function _M(t,e){let n=Cc(t.firestore,Po),r=oM(t),i=rH(t.converter,e);return sH(n,[Z$(dM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gi.exists(!1))]).then(()=>r)}function dI(t,...e){var n,r,i;t=dt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(aA(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ut)l=Cc(t.firestore,Po),h=X_(t._key.path),u={next:p=>{e[o]&&e[o](oH(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Cc(t,es);l=Cc(p.firestore,Po),h=p._query;let m=new bh(l);u={next:v=>{e[o]&&e[o](new G_(l,m,p,v))},error:e[o+1],complete:e[o+2]},nH(t._query)}return function(m,v,S,R){let M=new k_(R),F=new A_(v,M,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return M$(yield rA(m),F)})),()=>{M.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return x$(yield rA(m),F)}))}}(cM(l),h,a,u)}function sH(t,e){return function(r,i){let s=new tr;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return V$(yield K$(r),i,s)})),s.promise}(cM(t),e)}function oH(t,e,n){let r=n.docs.get(e._key),i=new bh(t);return new Ch(t,i,e._key,r,new qi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Oo=i})(Hr),$r(new Wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Po(new fv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ge(MS,"4.7.1",e),Ge(MS,"4.7.1","esm2017")})();var Ph=function(){return Ph=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ph.apply(this,arguments)};var uH={includeMetadataChanges:!1};function IM(t,e){return e===void 0&&(e=uH),new le(function(n){var r=dI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ph(Ph({},r),(n={},n[e.idField]=t.id,n))}function EM(t){return IM(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function DM(t,e){return e===void 0&&(e={}),EM(t).pipe(se(function(n){return n.map(function(r){return wM(r,e)})}))}var ns=class{constructor(e){return e}},CM="firestore",hI=class{constructor(){return ac(CM)}};var fI=new j("angularfire2.firestore-instances");function lH(t,e){let n=Dd(CM,t,e);return n&&new ns(n)}function dH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ns(r)}}var hH={provide:hI,deps:[[new ot,fI]]},fH={provide:ns,useFactory:lH,deps:[[new ot,fI],Qn]};function bM(t,...e){return Ge("angularfire",Li.full,"fst"),pn([fH,hH,{provide:fI,useFactory:dH(t),multi:!0,deps:[Ie,Xe,ho,Vi,[new ot,mc],[new ot,lo],...e]}])}var TM=Lt(DM,!0);var SM=Lt(_M,!0);var pI=Lt(sM,!0);var AM=Lt(aM,!0);var MM=Lt(yM,!0);var xM=Lt(mM,!0);var ei=class t{userEmail=null;setUserEmail(e){this.userEmail=e}getUserEmail(){return this.userEmail}clearUserEmail(){this.userEmail=null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var gH=(t,e)=>({"user-message":t,"my-message":e});function mH(t,e){if(t&1&&(U(0,"div",19)(1,"div",20),me(2),G(),U(3,"div",21),me(4),G(),U(5,"div",22),me(6),G()()),t&2){let n=e.$implicit,r=qe(2);Ci("ngClass",rb(4,gH,n.user!==r.userEmail,n.user===r.userEmail)),Te(2),jn(" ",r.GetUserName(n.user)," "),Te(2),jn(" ",n.text," "),Te(2),jn(" ",r.FormatTime(n.fecha)," ")}}function yH(t,e){if(t&1){let n=bi();U(0,"div",9)(1,"div",10)(2,"button",11),ut("click",function(){xt(n);let i=qe();return Rt(i.ToggleChat())}),Se(3,"i",12),G()(),U(4,"div",13),Rr(5,mH,7,7,"div",14),G(),U(6,"div",15)(7,"textarea",16),Or("ngModelChange",function(i){xt(n);let s=qe();return Si(s.newMessage,i)||(s.newMessage=i),Rt(i)}),ut("keydown.enter",function(){xt(n);let i=qe();return Rt(i.SendMessage())})("input",function(i){xt(n);let s=qe();return Rt(s.AdjustTextarea(i))}),me(8,"      "),G(),U(9,"span",17),ut("click",function(){xt(n);let i=qe();return Rt(i.SendMessage())}),Se(10,"i",18),G()()()}if(t&2){let n=qe();Te(2),Ca("hidden",!n.isChatVisible),Te(3),Ci("ngForOf",n.messages),Te(2),Ol("height",n.textareaHeight),Pr("ngModel",n.newMessage)}}var Oh=class t{constructor(e,n){this.firestore=e;this.userService=n;this.userEmail=this.userService.getUserEmail()}isChatVisible=!1;messages=[];newMessage="";textareaHeight="auto";maxRows=4;userEmail="";sub;AdjustTextarea(e){let n=e.target;n.style.height="auto";let r=Math.min(n.scrollHeight,this.maxRows*30);this.textareaHeight=`${r}px`}ngOnInit(){this.userEmail=this.userService.getUserEmail(),this.userEmail&&this.GetData()}ToggleChat(){this.isChatVisible=!this.isChatVisible;let e=document.getElementById("chatIcon")?.querySelector("img");e&&(e.style.display=this.isChatVisible?"none":"block")}SendMessage(){if(this.newMessage.trim()!==""){let e={text:this.newMessage.trim(),user:this.userEmail,fecha:new Date},n=pI(this.firestore,"chats");SM(n,e).then(()=>{this.newMessage="",this.ScrollToBottom()}),this.textareaHeight="auto"}}GetData(){let e=pI(this.firestore,"chats"),n=xM(e,MM("fecha"));console.log(this.userEmail);let r=TM(n);this.sub=r.subscribe(i=>{this.messages=i,this.ScrollToBottom()})}ScrollToBottom(){let e=document.querySelector(".chat");e!==null&&(e.scrollTop=e.scrollHeight)}GetUserName(e){return e.split("@")[0]}FormatTime(e){return e&&e.toDate?e.toDate().toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):""}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static \u0275fac=function(n){return new(n||t)(J(ns),J(ei))};static \u0275cmp=at({type:t,selectors:[["app-home"]],standalone:!0,features:[lt],decls:21,vars:1,consts:[[1,"container"],[1,"photo-game"],["src","preguntados.webp","alt",""],["src","ahorcado.webp","alt",""],["src","mayor-menor.webp","alt",""],["src","buscaminas.png","alt",""],[1,"icon-chat"],["id","chatIcon",3,"click"],["src","icon-page.png","alt",""],[1,"chat-box"],[1,"close-chat"],[3,"click"],[1,"bi","bi-caret-down-fill"],[1,"chat"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"input-chat"],["placeholder","Mensaje",3,"ngModelChange","keydown.enter","input","ngModel"],[1,"input-group-text","send_btn",3,"click"],[1,"fas","fa-location-arrow"],[3,"ngClass"],[1,"message-header"],[1,"message-body"],[1,"message-footer"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"a",1),Se(2,"img",2),U(3,"h3"),me(4,"Preguntados"),G()(),U(5,"a",1),Se(6,"img",3),U(7,"h3"),me(8,"Ahorcado"),G()(),U(9,"a",1),Se(10,"img",4),U(11,"h3"),me(12,"Mayor o menor"),G()(),U(13,"a",1),Se(14,"img",5),U(15,"h3"),me(16,"Buscaminas"),G()()(),U(17,"div",6)(18,"button",7),ut("click",function(){return r.ToggleChat()}),Se(19,"img",8),G()(),Rr(20,yH,11,6,"div",9)),n&2&&(Te(20),Nr(r.isChatVisible?20:-1))},dependencies:[zn,Tb,Sb,md,so,pd,tc],styles:["*[_ngcontent-%COMP%]{transition:all .3s ease-out}h3[_ngcontent-%COMP%]{color:#9ca3af;font-size:17px;line-height:24px;font-weight:700;margin-bottom:4px}.container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 200px);display:flex;flex-wrap:wrap;align-items:center;justify-content:center;padding-top:4.3rem}.photo-game[_ngcontent-%COMP%]{position:relative;text-decoration:none;z-index:0;overflow:hidden;margin:1rem}.photo-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:15px;width:200px;transition:all .3s ease}.photo-game[_ngcontent-%COMP%]:hover{top:-4px;box-shadow:0 8px 16px #26262666;transform:translateY(-4px)}.photo-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0000004d}.icon-chat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:fixed;bottom:180px;right:40px;z-index:1000}.icon-chat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:0}.icon-chat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;border:0}.chat-box[_ngcontent-%COMP%]{position:fixed;bottom:150px;right:20px;width:350px;height:400px;background-color:#fff;border-radius:8px;box-shadow:0 0 10px #0003;z-index:9999;display:flex;flex-direction:column}.close-chat[_ngcontent-%COMP%]{position:absolute;top:-15px;left:50%;transform:translate(-50%);background-color:#fff;border:1px solid #ccc;border-radius:50%;padding:5px;width:36px;height:36px;box-shadow:0 4px 12px #0000004d;display:flex;justify-content:center;align-items:center;cursor:pointer}.close-chat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent}.chat[_ngcontent-%COMP%]{flex:1;padding:10px;overflow-y:auto;border-bottom:1px solid #ccc;display:flex;flex-direction:column}.chat[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:350px;padding:5px;border-radius:10px;font-size:.9rem;margin-bottom:5px;display:inline-block}.chat[_ngcontent-%COMP%]   .user-message[_ngcontent-%COMP%]{background-color:#77b577;text-align:left;align-self:flex-start;border-radius:10px;padding:5px;margin-bottom:5px}.chat[_ngcontent-%COMP%]   .my-message[_ngcontent-%COMP%]{background-color:#4fb5db;align-self:flex-end;margin-left:auto;border-radius:10px;padding:5px;margin-bottom:5px}.chat[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{font-size:.8em;font-weight:700;margin:0}.chat[_ngcontent-%COMP%]   .user-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{text-align:left}.chat[_ngcontent-%COMP%]   .my-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{text-align:right}.chat[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{font-size:.7em;text-align:right;margin:0}.input-chat[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px}.input-chat[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;resize:none;padding:10px;border-radius:5px;border:1px solid #ccc;font-size:1rem;overflow-y:auto;min-height:40px;max-height:120px}.input-chat[_ngcontent-%COMP%]   .send_btn[_ngcontent-%COMP%]{margin-left:10px;background-color:transparent;border:none;cursor:pointer}.send_btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#c7c7c7}.hidden[_ngcontent-%COMP%]{display:none}@media (max-width: 992px){.icon-chat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:24px;right:20px}.chat-box[_ngcontent-%COMP%]{bottom:10px;right:10px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding-top:6.25rem}}"]})};var kh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-about-me"]],standalone:!0,features:[lt],decls:17,vars:0,consts:[[1,"container"],[1,"photo"],["src","foto-about-me.jpeg","alt","Yo"],[1,"about-me"],[1,"content"],[1,"headline"],[1,"reach-me"],["src","github.png","alt","Github"],["href","https://github.com/JpCortezF","target","_blank"],[1,"headline-game"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1),Se(2,"img",2),G(),U(3,"div",3)(4,"div",4)(5,"p",5)(6,"b"),me(7,"Hola!"),G(),me(8,"\u{1F44B} Soy Juan Pablo Cortez"),G(),U(9,"p"),me(10,"\u{1F4DA}: Estudiante avanzado de programaci\xF3n en la Universidad Tecnol\xF3gica Nacional (UTN), con habilidades avanzadas en SQL y experiencia en la manipulaci\xF3n de datos utilizando .NET."),G(),U(11,"div",6),Se(12,"img",7),U(13,"a",8),me(14,"JpCortezF"),G()(),U(15,"h5",9),me(16,"Explicaci\xF3n del juego"),G()()()())},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;align-items:center;min-height:calc(100vh - 200px);padding:80px 20px 40px;gap:20px}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;max-width:430px;height:auto}.about-me[_ngcontent-%COMP%]{background-color:#e4e4e4;border-radius:15px;padding:20px;box-shadow:0 4px 10px #0000001a;flex:1 1 500px;max-width:600px;min-height:450px;display:flex;justify-content:center}.content[_ngcontent-%COMP%]   .headline[_ngcontent-%COMP%]{font-size:36px}.content[_ngcontent-%COMP%]   .headline-game[_ngcontent-%COMP%]{color:#9ca3af}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin:0}.reach-me[_ngcontent-%COMP%]{padding:10px}.reach-me[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:33px;margin-right:5px}.reach-me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media (max-width: 1200px){.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}}@media (max-width: 991px){.container[_ngcontent-%COMP%]{border:1px solid rgb(203,203,203)}.photo[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:20px}.photo[_ngcontent-%COMP%]{margin-right:0;margin-bottom:20px;margin-top:60px}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px}.about-me[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%;padding:10px}.content[_ngcontent-%COMP%]{max-width:100%}.content[_ngcontent-%COMP%]   .headline[_ngcontent-%COMP%]{font-size:28px}}@media (max-width: 480px){.container[_ngcontent-%COMP%]{border:0}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.about-me[_ngcontent-%COMP%]{padding:5px}}"]})};var Fh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[lt],decls:2,vars:0,template:function(n,r){n&1&&(U(0,"p"),me(1,"page-not-found works!"),G())}})};function vH(t,e){if(t&1){let n=bi();U(0,"div")(1,"div",13),Se(2,"i",14),U(3,"input",15),Or("ngModelChange",function(i){xt(n);let s=qe();return Si(s.newUserMail,i)||(s.newUserMail=i),Rt(i)}),G()(),U(4,"div",13),Se(5,"i",16),U(6,"input",17),Or("ngModelChange",function(i){xt(n);let s=qe();return Si(s.newUserPass,i)||(s.newUserPass=i),Rt(i)}),G()()()}if(t&2){let n=qe();Te(3),Pr("ngModel",n.newUserMail),Te(3),Pr("ngModel",n.newUserPass)}}function _H(t,e){if(t&1){let n=bi();U(0,"div")(1,"div",13),Se(2,"i",14),U(3,"input",18),Or("ngModelChange",function(i){xt(n);let s=qe();return Si(s.userMail,i)||(s.userMail=i),Rt(i)}),G()(),U(4,"div",13),Se(5,"i",16),U(6,"input",19),Or("ngModelChange",function(i){xt(n);let s=qe();return Si(s.userPass,i)||(s.userPass=i),Rt(i)}),G()()()}if(t&2){let n=qe();Te(3),Pr("ngModel",n.userMail),Te(3),Pr("ngModel",n.userPass)}}function IH(t,e){if(t&1&&(U(0,"p",5),me(1),G()),t&2){let n=qe();Te(),Ti(n.messageError)}}var Lh=class t{constructor(e,n,r){this.auth=e;this.router=n;this.userService=r}newUserMail="";newUserPass="";flagError=!1;messageError="";userMail="";userPass="";isRegistering=!1;ToggleForm(){this.isRegistering=!this.isRegistering,this.messageError=""}AutocompleteFields(){let e="usuario",n="@ejemplo.com",r=Math.floor(Math.random()*100),i=`${e}${r}${n}`;this.isRegistering?(this.newUserMail=i,this.newUserPass="123456"):(this.userMail=i,this.userPass="123456")}Register(){DS(this.auth,this.newUserMail,this.newUserPass).then(e=>{e.user.email!==null&&(this.userService.setUserEmail(e.user.email),this.router.navigate(["/home"]))}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.messageError="Email invalido";break;case"auth/email-already-in-use":this.messageError="El email ya se encuentra en uso";break;case"auth/weak-password":this.messageError="La contrase\xF1a +6 caracteres";break;default:this.messageError=e.code;break}})}Login(){bS(this.auth,this.userMail,this.userPass).then(e=>{e.user.email!==null&&(this.userService.setUserEmail(e.user.email),this.router.navigate(["/home"]))}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.messageError="Email invalido";break;case"auth/invalid-credential":this.messageError="Email o contrase\xF1a incorrectos";break;default:this.messageError=e.code;break}})}static \u0275fac=function(n){return new(n||t)(J(Xn),J(Ct),J(ei))};static \u0275cmp=at({type:t,selectors:[["app-log-in"]],standalone:!0,features:[lt],decls:20,vars:7,consts:[[1,"container-form"],[1,"form-content"],["id","title"],[1,"grupo-input"],[4,"ngIf"],[1,"text-center","text-danger"],["href","#","id","forgotID",1,"forgot-pass"],[1,"btn-field"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-secondary","me-2",3,"click"],["id","LogUp"],[1,"account-text"],[1,"link-text",3,"click"],[1,"input-field"],[1,"fa-solid","fa-envelope"],["type","text","placeholder","Email","name","newEmail",3,"ngModelChange","ngModel"],[1,"fa-solid","fa-lock"],["type","password","placeholder","Contrase\xF1a","name","newPassword",3,"ngModelChange","ngModel"],["type","text","placeholder","Email","name","email",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a","name","password",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1)(2,"h1",2),me(3),G(),U(4,"div",3),Rr(5,vH,7,2,"div",4)(6,_H,7,2,"div",4)(7,IH,2,1,"p",5),U(8,"a",6),me(9,"\xBFHAS OLVIDADO TU CONTRASE\xD1A?"),G(),U(10,"div",7)(11,"button",8),ut("click",function(){return r.isRegistering?r.Register():r.Login()}),me(12),G(),U(13,"button",9),ut("click",function(){return r.AutocompleteFields()}),me(14,"Autocompletar"),G()(),U(15,"div",10)(16,"p",11),me(17),G(),U(18,"a",12),ut("click",function(){return r.ToggleForm()}),me(19),G()()()()()),n&2&&(Te(3),Ti(r.isRegistering?"Registrar":"Acceder"),Te(2),Ci("ngIf",r.isRegistering),Te(),Ci("ngIf",!r.isRegistering),Te(),Nr(r.flagError?7:-1),Te(5),jn(" ",r.isRegistering?"Registrar":"Acceder"," "),Te(5),Ti(r.isRegistering?"\xBFYa tienes cuenta?":"\xBFNo tienes cuenta?"),Te(2),jn(" ",r.isRegistering?"INICIAR SESI\xD3N":"CREAR UNA"," "))},dependencies:[zn,Ab,md,so,pd,tc],styles:['.container-form[_ngcontent-%COMP%]{width:100%;height:100vh;min-height:700px;display:flex;justify-content:center;align-items:center}.form-content[_ngcontent-%COMP%]{width:100%;max-width:600px;background-color:#0006;padding:40px 30px;text-align:center;border-radius:25px;position:relative}.form-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin-bottom:60px;position:relative}.form-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";width:30px;height:4px;border-radius:3px;background:#d13d49;position:absolute;bottom:-12px;left:50%;transform:translate(-50%)}.input-field[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#515966;margin:15px 0;border-radius:3px;transition:max-height .5s;overflow:hidden}.input-field[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px;color:#d13d49}.grupo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:transparent;border:0;outline:none;padding:10px 7px;color:#fff}.grupo-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.errorMessage[_ngcontent-%COMP%]{display:flex;justify-content:start;font-size:13px}.forgot-pass[_ngcontent-%COMP%]{color:#515966;font-size:.7rem;text-align:left;display:block}.link-text[_ngcontent-%COMP%]{color:#d13d49;margin-left:10px;text-decoration:none}.link-text[_ngcontent-%COMP%]:hover, .forgot-pass[_ngcontent-%COMP%]:hover{color:#fff!important;cursor:pointer}.btn-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:30px 0 10px}.account-text[_ngcontent-%COMP%]{display:inline;color:#fff;font-size:.9rem}@media (max-width: 665px){.btn-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem}}.styled-select[_ngcontent-%COMP%]{display:flex;justify-content:start;width:200px;padding:3px 5px;font-size:16px;border:2px solid #ccc;border-radius:3px;background-color:#515966;color:#fff;cursor:pointer;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.styled-select[_ngcontent-%COMP%]:focus{border-color:#d13d49;box-shadow:0 0 5px #66afe980}.checkbox-field[_ngcontent-%COMP%]{display:flex;color:#fff;width:100%;margin:15px 0}.checkbox-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:5.5rem}.checkbox-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:1rem}label.error[_ngcontent-%COMP%]{color:#fff;font-size:.7em;margin-right:2px}.btn-field[_ngcontent-%COMP%]{display:block;left:100}.checkbox-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;text-align:left;margin:0}@media (max-width: 400px){.checkbox-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em}}']})};var RM=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Oh},{path:"log-in",component:Lh},{path:"about-me",component:kh},{path:"**",component:Fh}];var NM={providers:[ub({eventCoalescing:!0}),S0(RM),bT(()=>TT(N0)),ES(()=>CS()),bM(()=>AM())]};function wH(t,e){if(t&1&&(U(0,"li")(1,"p"),me(2),G()()),t&2){let n=qe();Te(2),Ti(n.userEmail)}}function EH(t,e){if(t&1){let n=bi();U(0,"li")(1,"button",9),ut("click",function(){xt(n);let i=qe();return Rt(i.logOut())}),U(2,"a",10),me(3,"Log out"),G()()()}}function DH(t,e){t&1&&(U(0,"li")(1,"button",11)(2,"a",12),me(3,"Acceder"),G()()())}var Vh=class t{constructor(e,n,r){this.auth=e;this.router=n;this.userService=r;this.auth.onAuthStateChanged(i=>{i?(this.userLogged=!0,this.userEmail=i.email):(this.userLogged=!1,this.userEmail=null)})}userLogged=!1;userEmail=null;logOut(){this.auth.signOut().then(()=>{this.userLogged=!1,this.userService.clearUserEmail(),this.router.navigate(["/log-in"])})}static \u0275fac=function(n){return new(n||t)(J(Xn),J(Ct),J(ei))};static \u0275cmp=at({type:t,selectors:[["app-navbar"]],standalone:!0,features:[lt],decls:15,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top","p-3",2,"background-color","#151f2e","padding","0"],[1,"container"],["routerLink","/home","routerLinkActive","active-route"],["src","icon-page.png","alt","icon-page",1,"icon-page"],["routerLink","/home","routerLinkActive","active-route",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbar-start","aria-controls","navbar-start","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbar-start",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0","nav-icons"],[1,"btn-log-out",3,"click"],[1,"dropdown-item"],[1,"btn-log-in"],["routerLink","/log-in","routerLinkActive","active-route",1,"dropdown-item"]],template:function(n,r){n&1&&(U(0,"header")(1,"nav",0)(2,"div",1)(3,"div")(4,"a",2),Se(5,"img",3),G(),U(6,"a",4),me(7,"Bushin"),G()(),U(8,"button",5),Se(9,"span",6),G(),U(10,"div",7)(11,"ul",8),Rr(12,wH,3,1,"li")(13,EH,4,0,"li")(14,DH,4,0,"li"),G()()()()()),n&2&&(Te(12),Nr(r.userEmail?12:-1),Te(),Nr(r.userLogged?13:-1),Te(),Nr(r.userLogged?-1:14))},dependencies:[zn,to,Xs,ud],styles:[".icon-page[_ngcontent-%COMP%]{width:36px;height:auto;margin-right:1rem}.btn-log-in[_ngcontent-%COMP%], .btn-log-out[_ngcontent-%COMP%]{background:transparent;border:0;color:#fff}p[_ngcontent-%COMP%]{margin:0;color:#fff}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]})};var Uh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-footer"]],standalone:!0,features:[lt],decls:13,vars:0,consts:[[1,"container"],[1,"about-me"],["routerLink","/about-me","routerLinkActive","active-route"],[1,"icon-footer"],["routerLink","/home","routerLinkActive","active-route"],["src","icon-page.png","alt","icon-page"],[1,"Copyright"]],template:function(n,r){n&1&&(U(0,"footer")(1,"div",0)(2,"div",1)(3,"a",2)(4,"p"),me(5,"\xBFQuien soy?"),G()()(),U(6,"div",3)(7,"a",4),Se(8,"img",5),G(),U(9,"a",4),me(10,"Bushin"),G()(),U(11,"p",6),me(12,"Copyright \xA9 2024 Bushin\xAE. All rights reserved."),G()()())},dependencies:[zn,to,Xs,ud],styles:[".icon-footer[_ngcontent-%COMP%]{padding:.8rem;font-size:1.5rem}.icon-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:auto;margin-right:1rem}p[_ngcontent-%COMP%]{margin:0;color:#d13d49;text-align:center;display:inline}p[_ngcontent-%COMP%]:hover{color:#9ca3af}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.Copyright[_ngcontent-%COMP%]{color:#9ca3af}"]})};var jh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=at({type:t,selectors:[["app-root"]],standalone:!0,features:[lt],decls:3,vars:0,template:function(n,r){n&1&&Se(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[Pm,to,Vh,Uh]})};Lb(jh,NM).catch(t=>console.error(t));
